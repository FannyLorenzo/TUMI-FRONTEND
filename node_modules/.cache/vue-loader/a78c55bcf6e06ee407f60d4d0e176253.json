{"remainingRequest":"/home/fanny/Documentos/CURSOS/GES/tumi_project/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/fanny/Documentos/CURSOS/GES/tumi_project/src/views/ingresos/componentes/crud_Zonas.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/fanny/Documentos/CURSOS/GES/tumi_project/src/views/ingresos/componentes/crud_Zonas.vue","mtime":1627753466779},{"path":"/home/fanny/Documentos/CURSOS/GES/tumi_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/fanny/Documentos/CURSOS/GES/tumi_project/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/fanny/Documentos/CURSOS/GES/tumi_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/fanny/Documentos/CURSOS/GES/tumi_project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImNydWRfWm9uYXMiLAoKICBkYXRhOiAoKSA9PiAoewogICAgc2luZ3VsYXI6ICJ6b25hIiwKICAgIHRhYmxlVGl0bGU6ICJMaXN0YSBkZSAiICsgInpvbmFzIiwKICAgIGFjdGlvbjogIm5vdGhpbmciLAogICAgY2FtcG9Fc3RhZG86IGZhbHNlLAogICAgb3BfZXN0YWRvczogWyJBQ1RJVk8iLCAiSU5BQ1RJVk8iXSwKCiAgICBkaWFsb2c6IGZhbHNlLAogICAgaGVhZGVyczogWwogICAgICB7CiAgICAgICAgYWxpZ246ICJzdGFydCIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIC8vIGF0cmlidXRvcyBkZSBjYWRhIGl0ZW0KICAgICAgICB0ZXh0OiAiQ29kaWdvIiwKICAgICAgICB2YWx1ZTogIlRSX1pPTl9DT0QiLAogICAgICB9LAogICAgICB7IHRleHQ6ICJab25hIiwgdmFsdWU6ICJUUl9aT05fTk9NIiB9LAogICAgLy8gIHsgdGV4dDogIkVzdGFkbyIsIHZhbHVlOiAiVFJfWk9OX0VTVEFETyIgfSwKICAgICAgLy8gb3BjaW9uZXMgcG9yIGNhZGEgaXRlbQogICAgICB7IHRleHQ6ICJPcGNpb25lcyIsIHZhbHVlOiAiYWN0aW9ucyIsIHNvcnRhYmxlOiBmYWxzZSB9LAogICAgXSwKICAgIHNlYXJjaDogIiIsIC8vIEJVU1FVRURBCiAgICBsaXN0YTogW10sCiAgICBQT1NUX2FkZDogInpvbi9hZGQvIiwKICAgIERFTEVURV9kZWxldGU6ICJ6b24vZGVsZXRlLyIsCiAgICBQVVRfZWRpdDogInpvbi9lZGl0LyIsCiAgICBHRVRfbGlzdDogInpvbi9saXN0LyIsCiAgICBQVVRfcmV0cmlldmU6ICJ6b24vcmV0cmlldmUvIiwKCiAgICAvLy8gZGF0b3MgcGFyYSBndWFyZGFyCiAgICBjb2RpZ286IDAsCiAgICBlc3RhZG86ICJBQ1RJVk8iLAogICAgbm9tYnJlOiAiIiwKCiAgICBlZGl0ZWRJbmRleDogLTEsCgogICAgZWRpdGVkSXRlbTogewogICAgICBUUl9WQVJfQ09EOiAwLAogICAgICBUUl9WQVJfTk9NOiAiIiwKICAgICAgVFJfVkFSX0VTVDogIkFDVElWTyIsCiAgICB9LAogICAgLy8gZGF0YSB2YWxpZGFjacOzbgogICAgdmFsaWQ6IHRydWUsCiAgICBlcnJvcjogZmFsc2UsCiAgICBtc2dfZXJyb3I6ICIiLAogICAgZXJyb3JlczogW10sCiAgICB0ZXh0b1J1bGVzUmVxdWlyZWQ6IFsKICAgICAgKHYpID0+ICEhdiB8fCAiRXN0ZSBkYXRvIGVzIHJlcXVlcmlkbyIsCiAgICAgICh2KSA9PgogICAgICAgICh2ICYmIHYubGVuZ3RoIDw9IDYwKSB8fCAiRWwgdGV4dG8gZGViZSB0ZW5lciBtZW5vcyBkZSA2MCBjYXJhY3RlcmVzIiwKICAgIF0sCiAgfSksCiAgY29tcHV0ZWQ6IHsKICAgIGZvcm1UaXRsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uID09PSAiQWdyZWdhciIKICAgICAgICA/ICJBZ3JlZ2FyICIgKyB0aGlzLnNpbmd1bGFyCiAgICAgICAgOiAiRWRpdGFyICIgKyB0aGlzLnNpbmd1bGFyOwogICAgfSwKICAgIGFjdGlvbl9mb3JtKCkgewogICAgICByZXR1cm4gdGhpcy5hY3Rpb24gPT09ICJBZ3JlZ2FyIiA/ICJBZ3JlZ2FyIiA6ICJFZGl0YXIiOwogICAgfSwKICB9LAoKICB3YXRjaDogewogICAgZGlhbG9nKHZhbCkgewogICAgICB2YWwgfHwgdGhpcy5jbG9zZSgpOwogICAgfSwKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5saXN0YXIoKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICAKICAgIC8vIG1ldG9kb3MgZGUgdmFsaWRhY2nDs24KICAgaXNMZXR0ZXIoZSwgbWF4LHJlZl8gKQogIHsKICBsZXQgbj0wOyBsZXQgdmFsdWU9IiI7IGxldCBjaGFyOwogICAgaWYodGhpcy4kcmVmc1tyZWZfXS52YWx1ZSE9IG51bGwpewogICAgICBuID0gdGhpcy4kcmVmc1tyZWZfXS52YWx1ZS5sZW5ndGg7CiAgICAgIHZhbHVlID0gdGhpcy4kcmVmc1tyZWZfXS52YWx1ZTsKICAgICAgY2hhciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS5rZXlDb2RlKTsKICAgICAgLy8gY29uc29sZS5sb2coImxlbjogIituKyIgY2hhcjogIitjaGFyICsgIiB2YWx1ZTogIit2YWx1ZSk7ICAKICAgICAKICAgICAgaWYobj49bWF4KSBlLnByZXZlbnREZWZhdWx0KCk7ICAgICAgIAogICAgICBpZigvXltcc10rJC8udGVzdChjaGFyKSAmJiAobj09MCB8fCAvXltcc10rJC8udGVzdCh2YWx1ZVtuLTFdKSkpIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgaWYoL15bQS1aYS16IHxccyBdKyQvLnRlc3QoY2hhcikpIHJldHVybiB0cnVlCiAgICAgIGVsc2UgIGUucHJldmVudERlZmF1bHQoKTsKICAgIH0gCiAgICAKICB9LAogICAgbW9zdHJhckVycm9yZXMoKSB7CiAgICAgIC8vIHNlIGVudGllbmRlIHF1ZSB5YSBoYXkgZXJyb3JlcyBhbG1hY2VuYWRvcwogICAgICB0aGlzLm1zZ19lcnJvciA9ICIiOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXJyb3Jlcy5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMubXNnX2Vycm9yID0gdGhpcy5tc2dfZXJyb3IgKyAiXG4iICsgdGhpcy5lcnJvcmVzW2ldOwogICAgICB9CiAgICB9LAogICAgLy9QUk9DRURJTUlFTlRPUyBwYXJhIGVsIENSVUQKICAgIC8vUHJvY2VkaW1pZW50byBMaXN0YXIKICAgIGxpc3RhcigpIHsKICAgICAgbGV0IG15ID0gdGhpczsKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KG15LkdFVF9saXN0KQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgbXkubGlzdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9KTsKICAgIH0sIC8vZmluIGxpc3RhcgoKICAgIGFkZEl0ZW0oKSB7CiAgICAgIGxldCBteSA9IHRoaXM7CiAgICAgIG15LmFjdGlvbiA9ICJBZ3JlZ2FyIjsKICAgICAgKG15LmNhbXBvRXN0YWRvID0gZmFsc2UpLCBteS5saW1waWFyKCk7CiAgICAgIG15LmRpYWxvZyA9IHRydWU7CiAgICB9LAoKICAgIGVkaXRJdGVtKGl0ZW0pIHsKICAgICAgbGV0IG15ID0gdGhpczsKICAgICAgbXkuYWN0aW9uID0gIkVkaXRhciI7CiAgICAgIChteS5jYW1wb0VzdGFkbyA9IHRydWUpLCAodGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSkpOwogICAgICBteS5lc3RhZG8gPSBteS5lZGl0ZWRJdGVtLlRSX1pPTl9FU1Q7CiAgICAgIG15Lm5vbWJyZSA9IG15LmVkaXRlZEl0ZW0uVFJfWk9OX05PTTsKICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgfSwKCiAgICBkZWxldGVJdGVtKGl0ZW0pIHsKICAgICAgbGV0IG15ID0gdGhpczsKICAgICAgbXkuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pOwogICAgICBjb25maXJtKCLCv0VzdMOhIHNlZ3VybyBkZSBxdWVyZXIgZWxpbWluYXIgZXN0ZSByZWdpc3Rybz8iKSAmJgogICAgICAgIGF4aW9zCiAgICAgICAgICAuZGVsZXRlKG15LkRFTEVURV9kZWxldGUgKyBteS5lZGl0ZWRJdGVtLlRSX1pPTl9DT0QgKyAiLyIsIHt9KQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgbXkubGlzdGFyKCk7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfSk7CiAgICB9LAoKICAgIGNsb3NlKCkgewogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgfSwKICAgIGxpbXBpYXIoKSB7CiAgICAgICh0aGlzLmNvZGlnbyA9IDApLCAodGhpcy5lc3RhZG8gPSAiQUNUSVZPIiksICh0aGlzLm5vbWJyZSA9ICIiKTsKICAgICAgdGhpcy52YWxpZCA9IHRydWU7CiAgICAgIHRoaXMuZXJyb3IgPSBmYWxzZTsKICAgICAgdGhpcy5tc2dfZXJyb3IgPSAiIjsKICAgICAgdGhpcy5lcnJvcmVzID0gW107CiAgICB9LAoKICAgIHNhdmUoKSB7CiAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpOwogICAgICBpZiAodGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKHRydWUpKSB7CiAgICAgICAgdGhpcy5lcnJvcmVzID0gW107CiAgICAgICAgbGV0IG15ID0gdGhpczsKICAgICAgICBpZiAobXkuYWN0aW9uID09PSAiRWRpdGFyIikgewogICAgICAgICAgYXhpb3MKICAgICAgICAgICAgLnB1dChteS5QVVRfZWRpdCArIG15LmVkaXRlZEl0ZW0uVFJfWk9OX0NPRCArICIvIiwgewogICAgICAgICAgICAgIFRSX1pPTl9DT0Q6IG15LmVkaXRlZEl0ZW0uVFJfWk9OX0NPRCwKICAgICAgICAgICAgICBUUl9aT05fTk9NOiBteS5ub21icmUsCiAgICAgICAgICAgICAgVFJfWk9OX0VTVEFETzogbXkuZXN0YWRvLAogICAgICAgICAgICB9KQogICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgbXkuY2xvc2UoKTsKICAgICAgICAgICAgICBteS5saXN0YXIoKTsKICAgICAgICAgICAgICBteS5saW1waWFyKCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIGlmIChlcnIucmVzcG9uc2Uuc3RhdHVzID09IDQwMCkgewogICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICBpZiAoZXJyLnJlc3BvbnNlLmRhdGEuVFJfWk9OX05PTSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3Jlcy5wdXNoKGVyci5yZXNwb25zZS5kYXRhLlRSX1pPTl9OT01bMF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5tb3N0cmFyRXJyb3JlcygpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy9jb2QgcGFyYSBhZ3JlZ2FyCiAgICAgICAgICBheGlvcwogICAgICAgICAgICAucG9zdChteS5QT1NUX2FkZCwgewogICAgICAgICAgICAgIFRSX1pPTl9OT006IG15Lm5vbWJyZSwKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICAgIG15LmNsb3NlKCk7CiAgICAgICAgICAgICAgbXkubGlzdGFyKCk7CiAgICAgICAgICAgICAgbXkubGltcGlhcigpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICBpZiAoZXJyLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDApIHsKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgaWYgKGVyci5yZXNwb25zZS5kYXRhLlRSX1pPTl9OT00gIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICB0aGlzLmVycm9yZXMucHVzaChlcnIucmVzcG9uc2UuZGF0YS5UUl9aT05fTk9NWzBdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMubW9zdHJhckVycm9yZXMoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9IC8vIGZpbiB2YWxpZGFjacOzbgogICAgfSwgLy9maW4gbcOpdG9kbwogIH0sCgogICAgcHJvcHM6IHsKICAgIHNvdXJjZTogU3RyaW5nCiAgfQp9Owo="},{"version":3,"sources":["crud_Zonas.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"crud_Zonas.vue","sourceRoot":"src/views/ingresos/componentes","sourcesContent":["<template>\n  <div>\n    <div class=\"mt-4\">\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"lista\"\n        class=\"elevation-1\"\n        :search=\"search\"\n        :footer-props=\"{\n          showFirstLastPage: true,\n          firstIcon: 'mdi-arrow-collapse-left',\n          lastIcon: 'mdi-arrow-collapse-right',\n          prevIcon: 'mdi-minus',\n          nextIcon: 'mdi-plus',\n          pageText: '{0}-{1} de {2}',\n          'items-per-page-text': 'Registros por página',\n        }\"\n        sort-by=\"TR_ZON_COD\"\n      >\n        <template v-slot:top>\n          <v-toolbar flat color=\"black\">\n            <v-toolbar-title>{{ tableTitle }}</v-toolbar-title>\n            <v-divider class=\"mx-4\" inset vertical></v-divider>\n            <v-spacer></v-spacer>\n\n            <v-text-field\n              class=\"text-xs-center\"\n              v-model=\"search\"\n              append-icon=\"search\"\n              label=\"Búsqueda\"\n              single-line\n              hide-details\n            ></v-text-field>\n            <v-spacer></v-spacer>\n\n            <v-dialog v-model=\"dialog\" max-width=\"500px\">\n              <template v-slot:activator=\"{ on }\">\n                <v-btn\n                  color=\"primary\"\n                  dark\n                  class=\"mb-2\"\n                  v-on=\"on\"\n                  @click=\"addItem\"\n                  >Agregar {{ singular }}</v-btn\n                >\n              </template>\n              <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                <v-card>\n                  <v-card-title class=\"pa-4 orange\"> </v-card-title>\n\n                  <v-card-text>\n                    <v-container>\n                      <v-row>\n                        <h3 class=\"headline white--text\">{{ formTitle }}</h3>\n                      </v-row>\n\n                      <v-row>\n                        <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                          <v-text-field\n                          prepend-inner-icon=\" ti-location-pin\"\n                            v-model=\"nombre\"\n                            label=\"Nueva zona\"\n                            :rules=\"textoRulesRequired\"                            \n                            class=\"mt-4\"\n                            required\n                            outlined\n                            ref=\"nom_\"\n                            :counter=\"60\"\n                            v-on:keypress=\"isLetter($event,60,'nom_')\" \n                          ></v-text-field>\n                          <!-- MENSAJE DE ALERTA DE VALIDACIÓN-->\n                          <v-alert dense outlined type=\"error\" v-if=\"error\">\n                            {{ msg_error }} <strong> </strong>\n                          </v-alert>\n                          <!-- FIN MENSAJE DE ALERTA -->\n                        </v-col>\n                      </v-row>\n\n                   <!-- \n                        <template hidden v-if=\"campoEstado\">\n                        <v-row>\n                        <v-col class=\"d-flex\" cols=\"12\" sm=\"12\" md=\"12\">\n                          <v-select\n                            v-model=\"estado\"\n                            :items=\"op_estados\"\n                            label=\"Estado\"\n                            outlined\n                          ></v-select>\n                        </v-col>\n                          </v-row>\n                      </template>\n                   -->\n                    </v-container>\n                  </v-card-text>\n\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"blue darken-1\" text @click=\"close\"\n                      >Cancelar</v-btn\n                    >\n                    <v-btn :disabled=\"!valid\" color=\"blue darken-1\" text @click=\"save\">{{\n                      action_form\n                    }}</v-btn>\n                  </v-card-actions>\n                </v-card>\n              </v-form>\n            </v-dialog>\n          </v-toolbar>\n        </template>\n        <template v-slot:[`item.actions`]=\"{ item }\">\n          <v-icon small class=\"mr-2\" @click=\"editItem(item)\">mdi-pencil</v-icon>\n          <v-icon small @click=\"deleteItem(item)\">mdi-delete</v-icon>\n        </template>\n        <template v-slot:no-data>\n          <v-btn color=\"primary\" @click=\"listar\">Reset</v-btn>\n        </template>\n      </v-data-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"crud_Zonas\",\n\n  data: () => ({\n    singular: \"zona\",\n    tableTitle: \"Lista de \" + \"zonas\",\n    action: \"nothing\",\n    campoEstado: false,\n    op_estados: [\"ACTIVO\", \"INACTIVO\"],\n\n    dialog: false,\n    headers: [\n      {\n        align: \"start\",\n        sortable: false,\n        // atributos de cada item\n        text: \"Codigo\",\n        value: \"TR_ZON_COD\",\n      },\n      { text: \"Zona\", value: \"TR_ZON_NOM\" },\n    //  { text: \"Estado\", value: \"TR_ZON_ESTADO\" },\n      // opciones por cada item\n      { text: \"Opciones\", value: \"actions\", sortable: false },\n    ],\n    search: \"\", // BUSQUEDA\n    lista: [],\n    POST_add: \"zon/add/\",\n    DELETE_delete: \"zon/delete/\",\n    PUT_edit: \"zon/edit/\",\n    GET_list: \"zon/list/\",\n    PUT_retrieve: \"zon/retrieve/\",\n\n    /// datos para guardar\n    codigo: 0,\n    estado: \"ACTIVO\",\n    nombre: \"\",\n\n    editedIndex: -1,\n\n    editedItem: {\n      TR_VAR_COD: 0,\n      TR_VAR_NOM: \"\",\n      TR_VAR_EST: \"ACTIVO\",\n    },\n    // data validación\n    valid: true,\n    error: false,\n    msg_error: \"\",\n    errores: [],\n    textoRulesRequired: [\n      (v) => !!v || \"Este dato es requerido\",\n      (v) =>\n        (v && v.length <= 60) || \"El texto debe tener menos de 60 caracteres\",\n    ],\n  }),\n  computed: {\n    formTitle() {\n      return this.action === \"Agregar\"\n        ? \"Agregar \" + this.singular\n        : \"Editar \" + this.singular;\n    },\n    action_form() {\n      return this.action === \"Agregar\" ? \"Agregar\" : \"Editar\";\n    },\n  },\n\n  watch: {\n    dialog(val) {\n      val || this.close();\n    },\n  },\n\n  created() {\n    this.listar();\n  },\n\n  methods: {\n    \n    // metodos de validación\n   isLetter(e, max,ref_ )\n  {\n  let n=0; let value=\"\"; let char;\n    if(this.$refs[ref_].value!= null){\n      n = this.$refs[ref_].value.length;\n      value = this.$refs[ref_].value;\n      char = String.fromCharCode(e.keyCode);\n      // console.log(\"len: \"+n+\" char: \"+char + \" value: \"+value);  \n     \n      if(n>=max) e.preventDefault();       \n      if(/^[\\s]+$/.test(char) && (n==0 || /^[\\s]+$/.test(value[n-1]))) e.preventDefault();\n      if(/^[A-Za-z |\\s ]+$/.test(char)) return true\n      else  e.preventDefault();\n    } \n    \n  },\n    mostrarErrores() {\n      // se entiende que ya hay errores almacenados\n      this.msg_error = \"\";\n      for (let i = 0; i < this.errores.length; i++) {\n        this.msg_error = this.msg_error + \"\\n\" + this.errores[i];\n      }\n    },\n    //PROCEDIMIENTOS para el CRUD\n    //Procedimiento Listar\n    listar() {\n      let my = this;\n      axios\n        .get(my.GET_list)\n        .then(function (response) {\n          my.lista = response.data;\n        })\n        .catch(function (err) {\n          console.log(err.response.data);\n        });\n    }, //fin listar\n\n    addItem() {\n      let my = this;\n      my.action = \"Agregar\";\n      (my.campoEstado = false), my.limpiar();\n      my.dialog = true;\n    },\n\n    editItem(item) {\n      let my = this;\n      my.action = \"Editar\";\n      (my.campoEstado = true), (this.editedItem = Object.assign({}, item));\n      my.estado = my.editedItem.TR_ZON_EST;\n      my.nombre = my.editedItem.TR_ZON_NOM;\n      this.dialog = true;\n    },\n\n    deleteItem(item) {\n      let my = this;\n      my.editedItem = Object.assign({}, item);\n      confirm(\"¿Está seguro de querer eliminar este registro?\") &&\n        axios\n          .delete(my.DELETE_delete + my.editedItem.TR_ZON_COD + \"/\", {})\n          .then((response) => {\n            console.log(response);\n            my.listar();\n          })\n          .catch(function (err) {\n            console.log(err.response.data);\n          });\n    },\n\n    close() {\n      this.dialog = false;\n    },\n    limpiar() {\n      (this.codigo = 0), (this.estado = \"ACTIVO\"), (this.nombre = \"\");\n      this.valid = true;\n      this.error = false;\n      this.msg_error = \"\";\n      this.errores = [];\n    },\n\n    save() {\n      this.$refs.form.validate();\n      if (this.$refs.form.validate(true)) {\n        this.errores = [];\n        let my = this;\n        if (my.action === \"Editar\") {\n          axios\n            .put(my.PUT_edit + my.editedItem.TR_ZON_COD + \"/\", {\n              TR_ZON_COD: my.editedItem.TR_ZON_COD,\n              TR_ZON_NOM: my.nombre,\n              TR_ZON_ESTADO: my.estado,\n            })\n            .then((response) => {\n              console.log(response);\n              my.close();\n              my.listar();\n              my.limpiar();\n            })\n            .catch(function (err) {\n              console.log(err.response.data);\n              if (err.response.status == 400) {\n                this.error = true;\n                console.log(err.response.data);\n                if (err.response.data.TR_ZON_NOM != null) {\n                  this.errores.push(err.response.data.TR_ZON_NOM[0]);\n                }\n                this.mostrarErrores();\n              }\n            })\n        } else {\n          //cod para agregar\n          axios\n            .post(my.POST_add, {\n              TR_ZON_NOM: my.nombre,\n            })\n            .then(function (response) {\n              console.log(response);\n              my.close();\n              my.listar();\n              my.limpiar();\n            })\n            .catch(function (err) {\n              console.log(err.response.data);\n              if (err.response.status == 400) {\n                this.error = true;\n                console.log(err.response.data);\n                if (err.response.data.TR_ZON_NOM != null) {\n                  this.errores.push(err.response.data.TR_ZON_NOM[0]);\n                }\n                this.mostrarErrores();\n              }\n            })\n        }\n      } // fin validación\n    }, //fin método\n  },\n\n    props: {\n    source: String\n  }\n};\n</script>"]}]}