{"remainingRequest":"/home/fanny/Documentos/CURSOS/GES/tumi_project/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/fanny/Documentos/CURSOS/GES/tumi_project/src/views/ventas/ventas/componentes/crud_VentaProducto.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/fanny/Documentos/CURSOS/GES/tumi_project/src/views/ventas/ventas/componentes/crud_VentaProducto.vue","mtime":1627753466787},{"path":"/home/fanny/Documentos/CURSOS/GES/tumi_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/fanny/Documentos/CURSOS/GES/tumi_project/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/fanny/Documentos/CURSOS/GES/tumi_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/fanny/Documentos/CURSOS/GES/tumi_project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImNydWRfVmVudGFQcm9kdWN0byIsCgogIGRhdGE6ICgpID0+ICh7CiAgICBzaW5ndWxhcjogInZlbnRhIHByb2R1Y3RvcyAiLAogICAgdGFibGVUaXRsZTogIlZlbnRhIGRlIHByb2R1Y3RvcyIsCiAgICBhY3Rpb246ICJub3RoaW5nIiwKICAgIGFjdGlvbl9vcmRlbjogIm5vdGhpbmciLAogICAgY2FtcG9Fc3RhZG86IGZhbHNlLAogICAgY2FtcG9Fc3RhZG9PcmRlbjogZmFsc2UsCiAgICBDRVJSQVJfTE9URSA6IHRydWUsCiAgICBvcF9lc3RhZG9zOiBbIkFDVElWTyIsICJJTkFDVElWTyJdLAoKICAgIG9wX2NvbmRpY2lvbjogWyJTQUNPIiwgIktJTE8iXSwKICAgIGZlY2hhIDoiIiwKICAgIG9wX2FncmljdWx0b3JlczogW10sCiAgICBvcF9sb3RlczogW10sCiAgICBvcF9jbGllbnRlczogW10sCiAgICBvcF90cmFiYWphZG9yZXM6IFtdLAogICAgb3BfZW52YXNlczogW10sCiAgICBvcF9wcm9kdWN0b3M6IFtdLAogICAgb3BfcHJvZHVjdG9zQWdyOiBbXSwgLy8gdGhpcwoKICAgIG9wX3ZhcmllZGFkOiBbXSwKCiAgICBvcF9sb3Rlc3hBZ3I6W10sCgogICAgcGFydGVTZWxlY3RlZDogbnVsbCwKICAgIGFncl9zZWxlY3RlZDogbnVsbCwKICAgIG1vbF9zZWxlY3RlZDogbnVsbCwKICAgIGxvdF9zZWxlY3RlZDogbnVsbCwKICAgIG9wZXJhZG9yX1NlbGVjdGVkIDogbnVsbCwKICAgIHBlc2Fkb3JfU2VsZWN0ZWQgOiBudWxsLAogICAgcG9sdmlsbGVyb19TZWxlY3RlZCA6IG51bGwsCiAgICBlc3RpYmFkb3IxX1NlbGVjdGVkIDogbnVsbCwKICAgIGVzdGliYWRvcjJfU2VsZWN0ZWQgOiBudWxsLAoKICAgIHZhc19zZWxlY3RlZDogeyAiRU5WX0NPRCI6bnVsbCwgIkVOVl9OT00iOm51bGx9LAogICAgcHJvX3NlbGVjdGVkOiB7IlBST19DT0QiOiBudWxsLCAiUFJPX0RFU0NSSVBDSU9OIjogbnVsbH0sCi8vaXNTQWNvOiB0cnVlLAogICAgZGlhbG9nOiBmYWxzZSwKCiAgICBkaWFsb2dMaXN0OiBmYWxzZSwKICAgIGRpYWxvZ09yZGVuOiBmYWxzZSwKICAgIGVkaXRlZEluZGV4T3JkZW4gOm51bGwsCgogICAgaGVhZGVyczogWwogICAgICB7CiAgICAgICAgYWxpZ246ICJzdGFydCIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgLy8gYXRyaWJ1dG9zIGRlIGNhZGEgaXRlbQogICAgICB0ZXh0OiAiTnJvIFRpY2tldCIgLCB2YWx1ZTogIkNBQl9WRU5UX05PTSJ9LAogICAgICB7IHRleHQ6ICJGZWNoYSIgLCB2YWx1ZTogIkNBQl9WRU5UX0ZFQ0hBIn0sCiAgICAgIC8veyB0ZXh0OiAiIiAsIHZhbHVlOiAiQ0xJX0NPRCJ9LCAKICAgICAgeyB0ZXh0OiAiQ2xpZW50ZSIgLCB2YWx1ZTogIkNMSUVfTk9NX0NPTVBMRVRPIn0sCiAgICAgIC8veyB0ZXh0OiAiIiAsIHZhbHVlOiAiQ0FCX1ZFTlRfQ09EIn0sCiAgICAgIHsgdGV4dDogIkNhbnRpZGFkIiAsIHZhbHVlOiAiQ0FCX1ZFTlRfQ0FOVF9TQUNPUyJ9LAogICAgICB7IHRleHQ6ICJWZW50YSB0b3RhbCIgLCB2YWx1ZTogIkNBQl9WRU5UX1RPVEFMIn0sCiAgICAgIC8veyB0ZXh0OiAiIiAsIHZhbHVlOiAiQ0FCX1ZFTlRfRVNUQURPIn0sCiAgICAgIHsgdGV4dDogIk9wZXJhZG9yIiAsIHZhbHVlOiAiT1BFUl9OT01fQ09NUExFVE8ifSwKICAgICAgLy97IHRleHQ6ICIiICwgdmFsdWU6ICJDQUJfT1BFUkFET1IifSwKICAgICAgeyB0ZXh0OiAiUGFnbyIgLCB2YWx1ZTogIkNBQl9WRU5UX1RJUE9fVkVOVCJ9LAogICAgICAvLyBvcGNpb25lcyBwb3IgY2FkYSBpdGVtCiAgICAgIHsgdGV4dDogIk9wY2lvbmVzIiwgdmFsdWU6ICJhY3Rpb25zIiwgc29ydGFibGU6IGZhbHNlIH0sCgogICAgICAKICAgIF0sCgogICAgaGVhZGVyc0xpc3Q6IFsgLy8gbGlzdGEgZGUgZGV0YWxsZXMgcG9yIFRJQ0tFVAogICAgICB7CiAgICAgICAgYWxpZ246ICJzdGFydCIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgLy8gYXRyaWJ1dG9zIGRlIGNhZGEgaXRlbQogICAgICAgIC8vdGV4dDogIiIgLCB2YWx1ZTogIkNBQl9WRU5UX0NPRCJ9LAogICAgICAgIC8veyB0ZXh0OiAiIiAsIHZhbHVlOiAiUFJPX0NPRCJ9LAogICAgICAgIC8veyB0ZXh0OiAiIiAsIHZhbHVlOiAiQUdSX0NPRCJ9LAogICAgICAgIC8veyB0ZXh0OiAiIiAsIHZhbHVlOiAiREVUX1ZFTlRfQ09EIn0sCiAgICAgICAgIHRleHQ6ICJQcm9kdWN0byIgLCB2YWx1ZTogIlBST19ERVNDUklQQ0lPTiJ9LAogICAgICAgICB7IHRleHQ6ICJBZ3JpY3VsdG9yIiAsIHZhbHVlOiAiQUdSX05PTV9DT01QTEVUTyJ9LAogICAgICAgICAgeyB0ZXh0OiAiRW52YXNlIiAsIHZhbHVlOiAiRU5WX05PTSJ9LAogICAgICAgLy8geyB0ZXh0OiAiVW5pZGFkIiAsIHZhbHVlOiAiREVUX1ZFTlRfVU5JREFEIn0sCiAgICAgICAgeyB0ZXh0OiAiRGVzY3JpcGNpw7NuIiAsIHZhbHVlOiAiREVUX1ZFTlRfREVTQ1JJUENJT04ifSwKICAgICAgICB7IHRleHQ6ICJDYW50aWRhZCIgLCB2YWx1ZTogIkRFVF9WRU5UX0NBTlRJREFEIn0sCiAgICAgICAgeyB0ZXh0OiAiUHJlY2lvIFUuIiAsIHZhbHVlOiAiREVUX1ZFTlRfUFJFQ0lPX1ZFTlQifSwKICAgICAgICB7IHRleHQ6ICJUb3RhbCIgLCB2YWx1ZTogIkRFVF9WRU5UX1NVQlRPVEFMIn0sCiAgICAgICAgLy97IHRleHQ6ICIiICwgdmFsdWU6ICJERVRfVkVOVF9FU1RBRE8ifSwKICAgIF0sCgogICAgaGVhZGVyc09yZGVuZXM6IFsgLy8gZGV0YWxsZSBkZSB2ZW50YQogICAgICAgeyBhbGlnbjogInN0YXJ0IiwgCiAgICAgICAgIHRleHQ6ICJQcm9kdWN0byIgLCB2YWx1ZTogIlBST19ERVNDUklQQ0lPTiJ9LCAvLyBQUk9EVUNUT19ERVNDUklQQ0lPTgogICAgICAgIHsgdGV4dDogIkFncmljdWx0b3IiICwgdmFsdWU6ICJBR1JfTk9NX0NPTVBMRVRPIn0sCiAgICAgICB7IHRleHQ6ICJFbnZhc2UiICwgdmFsdWU6ICJFTlZfTk9NIn0sCiAgICAgICAvLyB7IHRleHQ6ICJVbmlkYWQiICwgdmFsdWU6ICJERVRfVkVOVF9VTklEQUQifSwKICAgICAgIC8vIHsgdGV4dDogIkRlc2NyaXBjacOzbiIgLCB2YWx1ZTogIkRFVF9WRU5UX0RFU0NSSVBDSU9OIn0sCiAgICAgICB7IHRleHQ6ICJTYWxkbyIgLCB2YWx1ZTogInNhbGRvIn0sCiAgICAgICAgeyB0ZXh0OiAiQ2FudGlkYWQiICwgdmFsdWU6ICJERVRfVkVOVF9DQU5USURBRCJ9LAogICAgICAgIHsgdGV4dDogIlByZWNpbyBVLiIgLCB2YWx1ZTogIkRFVF9WRU5UX1BSRUNJT19WRU5UIn0sIC8vREVUX1ZFTlRfUFJFQ0lPX1ZFTlQKICAgICAgICB7IHRleHQ6ICJUb3RhbCIgLCB2YWx1ZTogIkRFVF9WRU5UX1NVQlRPVEFMIn0sICAgIAogICAgICAgIAogICAgICAgeyB0ZXh0OiAiT3BjaW9uZXMiLCB2YWx1ZTogImFjdGlvbnMiLCBzb3J0YWJsZTogZmFsc2UgfSwgICAgICAgCiAgICAgICAKICAgIF0sCiAgICBoZWFkZXJzTGlzdGFTdG9jazpbIC8vIGRldGFsbGUgZGUgdmVudGEKICAgICAgIHsgYWxpZ246ICJzdGFydCIsIAogICAgICAgICB0ZXh0OiAiUHJvZHVjdG8iICwgdmFsdWU6ICJQUk9fREVTQ1JJUENJT04ifSwgLy8gUFJPRFVDVE9fREVTQ1JJUENJT04KICAgICAgIHsgdGV4dDogIkVudmFzZSIgLCB2YWx1ZTogIkVOVl9OT00ifSwKICAgICAgIHsgdGV4dDogIkFncmljdWx0b3IiICwgdmFsdWU6ICJBR1JfTk9NX0NPTVBMRVRPIn0sCiAgICAgICB7IHRleHQ6ICJQcmVjaW8gVS4iICwgdmFsdWU6ICJERVRfVkVOVF9QUkVDSU9fVkVOVCJ9LAogICAgICAgeyB0ZXh0OiAiU3RvY2siICwgdmFsdWU6ICJTVE9DSyJ9LCAKICAgICAgIC8veyB0ZXh0OiAiT3BjaW9uZXMiLCB2YWx1ZTogImFjdGlvbnMiLCBzb3J0YWJsZTogZmFsc2UgfSwgICAgICAgCiAgICAgICAKICAgIF0sCiAgICBsaXN0YVN0b2NrOltdCSwKICAgIHNlYXJjaFN0b2NrOiIiLCAvL2J1c2NhciBzdG9jawogICAgc3RvY2tTZWxlY3RlZDpbXSwKICAgIAogICAgbGlzdGFSZWdpc3Ryb3M6IFtdLAoKICAgIHNlYXJjaDogIiIsIC8vIEJVU1FVRURBCiAgICBsaXN0YTogW10sCiAgICBQT1NUX2FkZCA6ICd2ZW50L2FkZC8nLAogICAgREVMRVRFX2RlbGV0ZSA6ICd2ZW50L2RlbGV0ZS8nLAogICAgUFVUX2VkaXQgOiAndmVudC9lZGl0LycsCiAgICBHRVRfbGlzdCA6ICd2ZW50L2xpc3QvJywKICAgIEdFVF90b3RhbCA6ICd2ZW50L3RvdGFsLycsCgogICAgLy8vIGRhdG9zIHBhcmEgZ3VhcmRhciBWRU5UQQogICAgQ0xJX0NPRCA6IG51bGwsCiAgICBDQUJfVkVOVF9GRUNIQSA6IG51bGwsCiAgICBDQUJfVkVOVF9DT0QgOiBudWxsLAogICAgQ0FCX1ZFTlRfVE9UQUwgOiAwLAogICAgQ0FCX1ZFTlRfTk9NIDogbnVsbCwKICAgIENBQl9WRU5UX0NBTlRfU0FDT1MgOiAwLAogICAgQ0FCX1ZFTlRfRVNUQURPIDogbnVsbCwKICAgIENBQl9PUEVSQURPUiA6IG51bGwsCiAgICBDQUJfVkVOVF9USVBPX1ZFTlQ6IkFMIENPTlRBRE8iLAoKICAgIGVkaXRlZEluZGV4OiAtMSwKCiAgICBlZGl0ZWRJdGVtOiB7CiAgICBDTElfQ09EIDogbnVsbCwKICAgIENBQl9WRU5UX0ZFQ0hBIDogbnVsbCwKICAgIENBQl9WRU5UX0NPRCA6IG51bGwsCiAgICBDQUJfVkVOVF9UT1RBTCA6IDAsCiAgICBDQUJfVkVOVF9OT00gOiBudWxsLAogICAgQ0FCX1ZFTlRfQ0FOVF9TQUNPUyA6IDAsCiAgICBDQUJfVkVOVF9FU1RBRE8gOiBudWxsLAogICAgQ0FCX09QRVJBRE9SIDogbnVsbCwKICAgIENBQl9WRU5UX1RJUE9fVkVOVDoiQUwgQ09OVEFETyIsCiAgICB9LAovLyBkYXRvcyBPUkRFTiBWRU5UQQogICAvLyBDQUJfVkVOVF9DT0QgOiBudWxsLAogICAgUFJPX0NPRCA6IG51bGwsCiAgICBBR1JfQ09EIDogbnVsbCwKICAgIEVOVl9DT0Q6IG51bGwsICAgIAogICAgREVUX1ZFTlRfQ09EIDogbnVsbCwKICAgIERFVF9WRU5UX1VOSURBRCA6ICdTQUNPJywKICAgIERFVF9WRU5UX1BSRUNJT19WRU5UIDogbnVsbCwKICAgIERFVF9WRU5UX0RFU0NSSVBDSU9OIDogbnVsbCwKICAgIERFVF9WRU5UX0NBTlRJREFEIDogbnVsbCwKICAgIERFVF9WRU5UX1NVQlRPVEFMIDogbnVsbCwKICAgIERFVF9WRU5UX0VTVEFETyA6IG51bGwsCiAgICBFTlZfTk9NIDogbnVsbCwKCiAgICAKICAgIG9yZGVuOnsKICAgIENBQl9WRU5UX0NPRCA6IG51bGwsCiAgICBQUk9fQ09EIDogbnVsbCwKICAgIEFHUl9DT0QgOiBudWxsLAogICAgRU5WX0NPRDogbnVsbCwKICAgIERFVF9WRU5UX0NPRCA6IG51bGwsCiAgICBERVRfVkVOVF9VTklEQUQgOiAnU0FDTycsCiAgICBERVRfVkVOVF9QUkVDSU9fVkVOVCA6IG51bGwsCiAgICBERVRfVkVOVF9ERVNDUklQQ0lPTiA6IG51bGwsCiAgICBERVRfVkVOVF9DQU5USURBRCA6IG51bGwsCiAgICBERVRfVkVOVF9TVUJUT1RBTCA6IG51bGwsCiAgICBERVRfVkVOVF9FU1RBRE8gOiBudWxsLAogICAgUFJPX0RFU0NSSVBDSU9OIDogbnVsbCwgLy8gdGhpcwogICAgRU5WX05PTSA6IG51bGwsCiAgICBBR1JfTk9NX0NPTVBMRVRPIDogbnVsbCAvLyB0aGlzCiAgICB9LAoKICAgIERFVEFMTEVTX1ZFTlRBOiBbXSwKICAgIG5vX2RldGFsbGVzOnRydWUsCgogICAgIC8vIGRhdGEgdmFsaWRhY2nDs24KICAgIHZhbGlkOiB0cnVlLAogICAgdmFsaWQyOnRydWUsCiAgICBlcnJvcjogZmFsc2UsCiAgICBtc2dfZXJyb3I6ICIiLAogICAgZXJyb3JlczogW10sCiAgICBzZWxlY3RSdWxlczogWwogICAgICAgKHYpID0+ICEhdiB8fCAiRXN0ZSBkYXRvIGVzIHJlcXVlcmlkbyIsCiAgICBdLAogICAgdGV4dG9SdWxlczogWwogICAgICAodikgPT4gISF2IHx8ICJFc3RlIGNhbXBvIGVzIG9ibGlnYXRvcmlvIiwKICAgICAgKHYpID0+CiAgICAgICAgKHYgJiYgdi5sZW5ndGggPD0gNjApIHx8ICJFbCB0ZXh0byBkZWJlIHRlbmVyIG1lbm9zIGRlIDYwIGNhcmFjdGVyZXMiLAogICAgXSwKICAgICBjYW50aWRhZFJ1bGVzOiBbCiAgICAgICh2KSA9PiAhdiB8fCAvXlsrLV0/XGQrKFssLl1cZCspPyQvLnRlc3QodikgfHwvXihbMC05XSkqJC8udGVzdCh2KSB8fCAiSW5ncmVzZSB1biBuw7ptZXJvIiwKICAgIF0sCiAgICAgY2FudGlkYWRSdWxlc1JlcXVpcmVkOiBbCiAgICAgICAodikgPT4gISF2IHx8ICJFcyByZXF1ZXJpZG8iLCAgCiAgICAgICh2KSA9PiAhIXYgfHwgL15bKy1dP1xkKyhbLC5dXGQrKT8kLy50ZXN0KHYpIHx8L14oWzAtOV0pKiQvLnRlc3QodikgfHwgIkluZ3Jlc2UgdW4gbsO6bWVybyIsCiAgICBdLAoKICAgICAvLyBkYXRhIGVsaW1pbmFjaW9uCiAgICBjb25maXJtQm94OiB7CiAgICAgIGRlbGV0ZVJlZ2lzdGVyOiBmYWxzZSwKICAgICAgYWRkUmVnaXN0ZXI6IGZhbHNlLAogICAgICBpdGVtOiBudWxsCiAgICB9LAoKCiAgfSksCgogIGNvbXB1dGVkOiB7CiAgIAogICAgZm9ybVRpdGxlKCkgewogICAgICByZXR1cm4gdGhpcy5hY3Rpb24gPT09ICJBZ3JlZ2FyIgogICAgICAgID8gIkFncmVnYXIgIiArIHRoaXMuc2luZ3VsYXIKICAgICAgICA6ICJFZGl0YXIgIiArIHRoaXMuc2luZ3VsYXI7CiAgICB9LAogICAgaXNTQWNvKCl7CiAgICAgIHJldHVybiB0aGlzLkRFVF9WRU5UX1VOSURBRD09PSJLSUxPIjsKICAgIH0sCiAgICBhY3Rpb25fZm9ybSgpIHsKICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uID09PSAiQWdyZWdhciIgPyAiQWdyZWdhciIgOiAiRWRpdGFyIjsKICAgIH0sCiAgICBhY3Rpb25fb3JkZW5Gb3JtKCkgewogICAgICByZXR1cm4gdGhpcy5hY3Rpb25fb3JkZW4gPT09ICJBZ3JlZ2FyIiA/ICJBZ3JlZ2FyIiA6ICJFZGl0YXIiOwogICAgfSwKICAgIHN1YnRvdGFsKCl7CiAgICAgIHJldHVybiAodGhpcy5ERVRBTExFU19WRU5UQS5sZW5ndGg+MCkgPyB0aGlzLnN1bWFyRGV0YWxsZXMoKSA6MDsKICAgIH0sCiAgICBjYWxjdWxvX3Blc29uZXRvKCkgewogICAgICAvL3RoaXMuUkVDX1BFX05FID0gdGhpcy5SRUNfUEVfQiAtIHRoaXMuUkVDX1RBUjsKICAgICAgcmV0dXJuIHRoaXMuUkVDX1BFX0IgPiAwID8gKHRoaXMuUkVDX1BFX0ItIHRoaXMuUkVDX1RBUikgOiAwOwogICAgCiAgICB9LAogICAKICAgIGZlY2hhRW5Gb3JtYXRvKCl7IAogICAgICBsZXQgbXkgPSB0aGlzOwogICAgICBsZXQgZmVjaGl0YSA9IG5ldyBEYXRlKCk7CiAgICAgbXkuZmVjaGEgPSAiICIrZmVjaGl0YS5nZXREYXRlKCkrICIvIiArIChmZWNoaXRhLmdldE1vbnRoKCkgKzEpICsiLyIrIGZlY2hpdGEuZ2V0RnVsbFllYXIoKSsiICIrCiAgICAgIGZlY2hpdGEuZ2V0SG91cnMoKSArICI6IisgZmVjaGl0YS5nZXRNb250aCgpICsgIjoiKyBmZWNoaXRhLmdldFNlY29uZHMoKTsgCiByZXR1cm4gbXkuZmVjaGE7CiAgICAgIAogICAgfSwKICAgIGNvbXB1dGVkRGF0ZUZvcm1hdHRlZCgpIHsKICAgICAgLy8gZmVjaGEKICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0RGF0ZSh0aGlzLmRhdGUpOwogICAgfSwKICAgIC8vIGdlbmVyYWRvciBkZSBsaXN0YXMgcmVmZXJlbmNpYWxlcyBubyBCRAogICAgIHllYXJzICgpIHsgLy8yIGHDsW9zIGFudGVzIHkgMiBkZXNwdWVzIGRlbCBhw7FvIGFjdHVhbAogICAgICBjb25zdCB5ZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpCiAgICAgIHJldHVybiBBcnJheS5mcm9tKHtsZW5ndGg6ICh5ZWFyKzIpIC0gKHllYXItMil9LCAodmFsdWUsIGluZGV4KSA9PiAoeWVhci0yKSArIGluZGV4KQogICAgfSwKICAgIC8vIEZJTiBsaXN0YXMgcmVmZXJlbmNpYWxlcyBubyBCRAogICAKICAgLy8gdmFyaWFibGVzIGRlIHN0b3JlCiAgICAuLi5tYXBTdGF0ZShbImFncmljdWx0b3JTZWxlY2Npb25hZG8iXSksCiAgICBhZ3JpY3VsdG9yU2VsZWNjaW9uYWRvOiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYWdyaWN1bHRvclNlbGVjY2lvbmFkbzsKICAgICAgfSwKICAgICAgc2V0KHZhbCkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX0FHUklDVUxUT1IiLCB2YWwpOwogICAgICB9LAogICAgfSwKICAgIC8vIGZpbiB2YXJpYWJsZXMgZGUgc3RvcmUKICB9LAoKICB3YXRjaDogewogICAgZGlhbG9nKHZhbCkgewogICAgICB2YWwgfHwgdGhpcy5jbG9zZSgpOwogICAgfSwKICAgICBkaWFsb2dPcmRlbih2YWwpIHsKICAgICAgdmFsIHx8IHRoaXMuY2xvc2VPcmRlbigpOwogICAgfSwKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5mcm9tX2luZGljYWRvcmVzKCksCiAgICB0aGlzLmxpc3RhcigpLAogICAgICB0aGlzLmxpc3RhckFncmljdWx0b3JlcygpLAogICAgICB0aGlzLmxpc3RhckxvdGVzKCksCiAgICAgLy90aGlzLmxpc3RhclJlZ2lzdHJvcygpOwogICAKICAgICAgdGhpcy5saXN0YXJDbGllbnRlcygpOwogICAgICB0aGlzLmxpc3RhclRyYWJhamFkb3JlcygpOwogICAgICB0aGlzLmxpc3RhckVudmFzZXMoKTsKICAgICAgdGhpcy5saXN0YXJQcm9kdWN0b3MoKTsKICAgICAgdGhpcy5saXN0YXJQcm9kdWN0b3NBZ3IoKTsKICAgIC8vCiAgfSwKCiAgbWV0aG9kczogewouLi5tYXBBY3Rpb25zKFsicmVmcmVzY2FyVmVudGFzIl0pLAogICAgIGZyb21faW5kaWNhZG9yZXMoKXsKICAgICAgaWYodGhpcy4kcm91dGUucGFyYW1zLmFkPT09ImFkIikKICAgICAgdGhpcy5hZGRJdGVtKCk7CiAgICB9LAoKICAgIC8vIG1ldG9kb3MgZGUgdmFsaWRhY2nDs25uCiAgICBpc1Bvc2l0aXZlKGUpCiAgewogICAgICBsZXQgY2hhciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS5rZXlDb2RlKTsKICAgICAgaWYoL15bLV0rJC8udGVzdChjaGFyKSApIGUucHJldmVudERlZmF1bHQoKTsKICAgICAKICB9LAogICAgbW9zdHJhckVycm9yZXMoKSB7CiAgICAgIC8vIHNlIGVudGllbmRlIHF1ZSB5YSBoYXkgZXJyb3JlcyBhbG1hY2VuYWRvcwogICAgICB0aGlzLm1zZ19lcnJvciA9ICIiOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXJyb3Jlcy5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMubXNnX2Vycm9yID0gdGhpcy5tc2dfZXJyb3IgKyAiXG4iICsgdGhpcy5lcnJvcmVzW2ldOwogICAgICB9CiAgICAgIHRoaXMuZXJyb3IgPSB0cnVlOwogICAgfSwKCnN1bWFyRGV0YWxsZXMoKXsKICBsZXQgc3VtYT0wOwogIGZvcihsZXQgaSA9IDA7IGk8IHRoaXMuREVUQUxMRVNfVkVOVEEubGVuZ3RoOyBpKyspewogICAgc3VtYT1zdW1hK3RoaXMuREVUQUxMRVNfVkVOVEFbaV0uREVUX1ZFTlRfU1VCVE9UQUw7CgogIH0gCiAgcmV0dXJuIHN1bWE7Cn0sCiAgICBsaXN0YXJTdG9jaygpeyAvLyAKICAgICAgbGV0IG15ID0gdGhpczsKICAgICAgbGV0IGNvdW50PTA7CiAgICAgIGF4aW9zCiAgICAgICAgLmdldCgicHJvZC9zdG9ja1YyLyIpIC8vIENBTUJJQVJSUlIKICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgbXkubGlzdGFTdG9jayA9IHJlc3BvbnNlLmRhdGEubWFwKChpdGVtKSA9PiB7CiAgICAgICAgICAvLyBpdGVtWydpbmRleCddPWNvdW50Kys7CiAgICAgICAgICAKICAgICAgICAgIG15Lm9yZGVuID0gewogICAgICAgICAgICAgICAgICAiaW5kZXgiIDogY291bnQrKywKICAgICAgICAgICAgICAgICAgIlNUT0NLIjogaXRlbS5TVE9DSywKICAgICAgICAgICAgICAgICAgInNhbGRvIjogaXRlbS5TVE9DSywKICAgICAgICAgICAgICAgICAgIkNBQl9WRU5UX0NPRCIgOiBudWxsLAogICAgICAgICAgICAgICAgICAiUFJPX0NPRCIgOiBpdGVtLlBST19DT0QsCiAgICAgICAgICAgICAgICAgICJBR1JfQ09EIiA6IGl0ZW0uQUdSX0NPRCwKICAgICAgICAgICAgICAgICAgIkVOVl9DT0QiIDogaXRlbS5FTlZfQ09ELAogICAgICAgICAgICAgICAgICAiREVUX1ZFTlRfQ09EIiA6IG51bGwsCiAgICAgICAgICAgICAgICAgICJERVRfVkVOVF9VTklEQUQiIDogaXRlbS5ERVRfVkVOVF9VTklEQUQsCiAgICAgICAgICAgICAgICAgICJERVRfVkVOVF9QUkVDSU9fVkVOVCIgOiBpdGVtLlBST19QUkVDX1ZFTlRBLAogICAgICAgICAgICAgICAgICAiREVUX1ZFTlRfREVTQ1JJUENJT04iIDogaXRlbS5ERVRfVkVOVF9ERVNDUklQQ0lPTiwKICAgICAgICAgICAgICAgICAgIkRFVF9WRU5UX0NBTlRJREFEIiA6IDEsCiAgICAgICAgICAgICAgICAgICJERVRfVkVOVF9TVUJUT1RBTCIgOiBpdGVtLkRFVF9WRU5UX1NVQlRPVEFMLAogICAgICAgICAgICAgICAgICAiREVUX1ZFTlRfRVNUQURPIiA6ICJBQ1RJVk8iLAogICAgICAgICAgICAgICAgICAiRU5WX05PTSIgOiBpdGVtLkVOVl9OT00sCiAgICAgICAgICAgICAgICAgICJQUk9fREVTQ1JJUENJT04iIDogaXRlbS5QUk9fREVTQ1JJUENJT04sCiAgICAgICAgICAgICAgICAgICJBR1JfTk9NX0NPTVBMRVRPIiA6IGl0ZW0uQUdSX0ZVTExfTkFNRSwKCiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgCiAgICAgICAgICAgcmV0dXJuIG15Lm9yZGVuO30pOyAvLyBhcXVpIHNlIHByZXRlbmRlIHRlbmVyIHVuIElOREVYCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICBjb3VudD0wOwogICAgICAgCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfSk7CiAgICB9LCAvL2ZpbiBsaXN0YXIKICAgIC8vUFJPQ0VESU1JRU5UT1MgcGFyYSBlbCBDUlVECiAgICAgbGlzdGFyQ2xpZW50ZXMoKSB7CiAgICAgIGxldCBteSA9IHRoaXM7CiAgICAgIGF4aW9zCiAgICAgICAgLmdldCgiY2xpL2xpc3QvIikKICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIG15Lm9wX2NsaWVudGVzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfSk7CiAgICB9LCAvL2ZpbiBsaXN0YXIKICAgIGxpc3RhclRyYWJhamFkb3JlcygpIHsKICAgICAgbGV0IG15ID0gdGhpczsKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KCJ0cmEvbGlzdC8iKQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgbXkub3BfdHJhYmFqYWRvcmVzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfSk7CiAgICB9LCAvL2ZpbiBsaXN0YXIKICAgICBsaXN0YXJFbnZhc2VzKCkgewogICAgICBsZXQgbXkgPSB0aGlzOwogICAgICBheGlvcwogICAgICAgIC5nZXQoImVudi9saXN0LyIpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBteS5vcF9lbnZhc2VzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfSk7CiAgICB9LCAvL2ZpbiBsaXN0YXIKICAgIC8vICBwcm9kL2xpc3RTdG9ja0Vudi8KLy9wcm9kL2xpc3RTdG9ja0VudkFnci8xLwogICAgIGxpc3RhclByb2R1Y3RvcygpIHsKICAgICAgbGV0IG15ID0gdGhpczsKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KCJwcm9kL2xpc3RTdG9ja0Vudi8iKSAvL3Byby9saXN0LwogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgbXkub3BfcHJvZHVjdG9zID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfSk7CiAgICB9LCAvL2ZpbiBsaXN0YXIKICAgIGxpc3RhclByb2R1Y3Rvc0FncigpIHsKICAgICAgbGV0IG15ID0gdGhpczsKICAgICAgaWYobXkuQUdSX0NPRCA9PT0gIiIgfHwgbXkuQUdSX0NPRCA9PT1udWxsIHx8IG15LkFHUl9DT0QgPT09Jzw8IE5vIGFzaWduYWRvID4+JyApewogICAgICAgICAgYXhpb3MKICAgICAgICAuZ2V0KCJwcm9kL2xpc3RTdG9ja0Vudi8iKSAvL3Byby9saXN0LwogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgbXkub3BfcHJvZHVjdG9zID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfSk7CiAgICAgIH1lbHNlewogICAgICBheGlvcy5nZXQoInByb2QvbGlzdFN0b2NrRW52QWdyLyIrbXkuQUdSX0NPRCsiLyIpLgogICAgICAgICAgdGhlbihmdW5jdGlvbihyZXNwb25zZSl7ICAgICAgICAKICAgICAgICAgIG15Lm9wX3Byb2R1Y3RvcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0pOwogICAgfQogICAgfSwgLy9maW4gbGlzdGFyCiAgICBsaXN0YXJBZ3JpY3VsdG9yZXMoKSB7CiAgICAgIGxldCBteSA9IHRoaXM7CiAgICAgIGF4aW9zCiAgICAgICAgLmdldCgiYWdyL2xpc3QvIikKICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsgICAgICAgICAgCiAgICAgICAgICBteS5vcF9hZ3JpY3VsdG9yZXMgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgbXkub3BfYWdyaWN1bHRvcmVzLnB1c2goJzw8IE5vIGFzaWduYWRvID4+Jyk7CiAgICAgICAgIAogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9KTsKICAgIH0sIC8vZmluIGxpc3RhcgogICAgbGlzdGFyTG90ZXMoKSB7CiAgICAgIGxldCBteSA9IHRoaXM7CiAgICAgIGF4aW9zCiAgICAgICAgLmdldCgibG90L2xpc3QvIikKICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIG15Lm9wX2xvdGVzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIGNvbnNvbGUubG9nKG15Lm9wX2xvdGVzKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfSk7CiAgICB9LCAvL2ZpbiBsaXN0YXIKICAgIC8vUHJvY2VkaW1pZW50byBMaXN0YXIKICAgIGxpc3RhcigpIHsKICAgICAgbGV0IG15ID0gdGhpczsKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KG15LkdFVF9saXN0KQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgbXkubGlzdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9KTsKICAgIH0sIC8vZmluIGxpc3RhcgoKICAgIGxpc3RhclJlZ2lzdHJvcygpIHsKICAgICAgbGV0IG15ID0gdGhpczsKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KCJkdmVudC9saXN0LyIgKyBteS5wYXJ0ZVNlbGVjdGVkICsgIi8iKQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgbXkubGlzdGFSZWdpc3Ryb3MgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgbXkucGFydGVTZWxlY3RlZCA9IG51bGw7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0pOwogICAgfSwgLy9maW4gbGlzdGFyCgogICAgIGxpc3RhclJlZ2lzdHJvc09yZGVuKGNvZCkgewogICAgICBsZXQgbXkgPSB0aGlzOwogICAgICBheGlvcwogICAgICAgIC5nZXQoImR2ZW50L2xpc3QvIiArIGNvZCArICIvIikKICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIG15LkRFVEFMTEVTX1ZFTlRBID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIAogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9KTsKICAgIH0sIC8vZmluIGxpc3RhcgoKICAgIHNob3dJdGVtcyhpdGVtKSB7CiAgICAgIGxldCBteSA9IHRoaXM7CiAgICAgIG15LnBhcnRlU2VsZWN0ZWQgPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKS5DQUJfVkVOVF9DT0Q7CiAgICAgIGNvbnNvbGUubG9nKCJSRUdJU1RSTyA6ICIgKyBteS5wYXJ0ZVNlbGVjdGVkKTsKICAgICAgLy9udWV2b28KICAgICAgbXkudmlld0l0ZW0oaXRlbSk7CiAgICAgICAvL2ZpbiBudWV2bwogICAgICB0aGlzLmxpc3RhclJlZ2lzdHJvcygpOwogICAgICBteS5kaWFsb2dMaXN0ID0gdHJ1ZTsKICAgIH0sCgogICAgYWRkSXRlbSgpIHsKICAgICAgbGV0IG15ID0gdGhpczsKICAgICAgbXkuYWN0aW9uID0gIkFncmVnYXIiOwogICAgICBteS5jYW1wb0VzdGFkbyA9IGZhbHNlOwogICAgICBteS5saW1waWFyKCk7CiAgICAgIG15LmxpbXBpYXJfZGV0YWxsZXNPcmRlbigpOyAvLyByZXNldGVhciBsbyBhbnRlcwogICAgICBteS5kaWFsb2cgPSB0cnVlOwogICAgICAKICAgIH0sCiAgICBhZGREZXRhbGxlcygpewogICAgICAKICAgICAgbGV0IG15ID0gdGhpczsKICAgICAgIG15LkRFVEFMTEVTX1ZFTlRBID0gbXkuc3RvY2tTZWxlY3RlZC5tYXAoKGl0ZW0pID0+IGl0ZW0pOwogICAgICAgbXkuY2xvc2VPcmRlbigpOwogICAgIAogICAgICAgIC8vbXkubGltcGlhck9yZGVuKCk7CiAgICAgIC8vICBteS5yZWZyZXNjYXJWZW50YXMoKTsgLy8gVEhJUwoKICAgIH0sCiAgICAgYWRkSXRlbU9yZGVuKCkgewogICAgICBsZXQgbXkgPSB0aGlzOwogICAgICBteS5hY3Rpb25fb3JkZW4gPSAiQWdyZWdhciI7CiAgICAgIG15LmNhbXBvRXN0YWRvT3JkZW4gPSBmYWxzZTsKICAgICBteS5saXN0YXJTdG9jaygpOyAvLyBwYXJhIHF1ZSBsaXN0ZSBsbyBxIHNlIHF1aWVyZQogICAgIAogICAgCiAgICAgIAogICAgICBteS5kaWFsb2dPcmRlbiA9IHRydWU7CiAgICB9LAoKICAKICAgIGRlbGV0ZU9yZGVuKGl0ZW0pewogICAgICAKICAgICAgaWYodGhpcy5jYW1wb0VzdGFkb09yZGVuKXsgLy8gc2UgZXN0w6EgZWRpdGFuZG8gZWwgcGFydGUKICAgICAgbGV0IG15ID0gdGhpczsKICAgICAgbXkub3JkZW4gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTsKICAgICAgY29uZmlybSgiwr9Fc3TDoSBzZWd1cm8gZGUgcXVlcmVyIGVsaW1pbmFyIGVzdGUgcmVnaXN0cm8/IikgJiYKICAgICAgICBheGlvcwogICAgICAgICAgLmRlbGV0ZSgiZHZlbnQvZGVsZXRlLyIgKyBteS5vcmRlbi5ERVRfVkVOVF9DT0QgKyAiLyIsIHt9KQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgCiAgICAgICAgICAgbXkubGlzdGFyUmVnaXN0cm9zKCk7CiAgICAgICAgICAgbXkubGlzdGFyUmVnaXN0cm9zT3JkZW4obXkub3JkZW4uREVUX1ZFTlRfQ09EKTsKICAgICAgICAgICBteS5yZWZyZXNjYXJWZW50YXMoKTsgLy8gVEhJUwogICAgICAgICAgICBteS5saW1waWFyT3JkZW4oKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9KTsKCiAgICAgIH1lbHNleyAvLyBlbiBhZ3JlZ2FyCiAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuREVUQUxMRVNfVkVOVEEuaW5kZXhPZihpdGVtKTsKICAgICAgIGNvbmZpcm0oIsK/RXN0w6Egc2VndXJvIGRlIHF1ZXJlciBlbGltaW5hciBlc3RlIHJlZ2lzdHJvPyIpICYmCiAgICAgICAgdGhpcy5ERVRBTExFU19WRU5UQS5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgIHRoaXMuc3RvY2tTZWxlY3RlZC5zcGxpY2UoaW5kZXgsIDEpOyAvLyBBUVVJIE1FUk8gTUVSSVRPCiAgICAgIH0KICAgICAgfSwKCiAgICAgCiAgICAgIGxpbXBpYXJfZGV0YWxsZXNPcmRlbigpewogICAgICAgIHRoaXMuREVUQUxMRVNfVkVOVEEgPSBbXTsKCiAgICAgIH0sCiAgICBsaW1waWFyT3JkZW4oKXsKICAgICAgbGV0IG15ID0gdGhpczsKICAgICAgbXkuRU5WX0NPRCA9IG51bGw7CiAgICAgIG15LlBST19DT0QgPSBudWxsOwogICAgICBteS5BR1JfQ09EID0gbnVsbDsKICAgICAgLy9teS5ERVRfVkVOVF9DT0QgPSBudWxsOwogICAgICBteS5ERVRfVkVOVF9VTklEQUQgPSAnU0FDTyc7CiAgICAgIG15LkRFVF9WRU5UX1BSRUNJT19WRU5UID0gbnVsbDsKICAgICAgbXkuREVUX1ZFTlRfREVTQ1JJUENJT04gPSBudWxsOwogICAgICBteS5ERVRfVkVOVF9DQU5USURBRCA9IG51bGw7CiAgICAgIG15LkRFVF9WRU5UX1NVQlRPVEFMID0gbnVsbDsKICAgICAgbXkuREVUX1ZFTlRfRVNUQURPID0gbnVsbDsKCiAgIC8vIHRoaXMuREVUQUxMRVNfVkVOVEEgPSBbXTsgUFJPSElCSURPCiAgICB0aGlzLnZhc19zZWxlY3RlZD0geyAiRU5WX0NPRCI6bnVsbCwgIkVOVl9OT00iOm51bGx9OwogICAgdGhpcy5wcm9fc2VsZWN0ZWQ9IHsiUFJPX0NPRCI6IG51bGwsICJQUk9fREVTQ1JJUENJT04iOiBudWxsfTsKCiAgIG15LnZhbGlkMj0gdHJ1ZTsKICAgbXkuZXJyb3I9IGZhbHNlOwogICBteS5tc2dfZXJyb3I9ICIiOwogICBteS5lcnJvcmVzPSBbXTsKCiAgICB9LAogICAgYXNpZ25hck5vbWJyZVBybygpewogICAgICB0aGlzLlBST19DT0QgPSB0aGlzLnByb19zZWxlY3RlZC5QUk9fQ09EOwogICAgICB0aGlzLlBST19ERVNDUklQQ0lPTiA9IHRoaXMucHJvX3NlbGVjdGVkLlBST19ERVNDUklQQ0lPTjsKICAgICAgdGhpcy5FTlZfQ09EID0gdGhpcy5wcm9fc2VsZWN0ZWQuRU5WX0NPRDsKICAgICAgdGhpcy5FTlZfTk9NID0gdGhpcy5wcm9fc2VsZWN0ZWQuRU5WX05PTTsKICAgIC8vICB0aGlzLkRFVF9WRU5UX1BSRUNJT19WRU5UID0gdGhpcy5wcm9fc2VsZWN0ZWQuUFJPX1BSRUNfVkVOVEE7CiAgICAgIC8vIGFxdWkgbG9zIG1lcm9zIGJ1ZW5vcwogICAgICB0aGlzLkRFVF9WRU5UX1BSRUNJT19WRU5UID0gMTI7Ly90aGlzLnN0b2NrU2VsZWN0ZWRbMF0uUFJPX1BSRUNfVkVOVEE7CgoKICAgIH0sCiAgICBhc2lnbmFyTm9tYnJlVmFzKCl7CiAgICAgIHRoaXMuRU5WX0NPRCA9IHRoaXMudmFzX3NlbGVjdGVkLkVOVl9DT0Q7CiAgICAgIHRoaXMuRU5WX05PTSA9IHRoaXMudmFzX3NlbGVjdGVkLkVOVl9OT007CiAgICB9LAoKICAgIGVkaXRJdGVtKGl0ZW0pIHsKICAgICAgbGV0IG15ID0gdGhpczsKICAgICAgbXkuYWN0aW9uID0gIkVkaXRhciI7CiAgICAgIG15LmNhbXBvRXN0YWRvID0gdHJ1ZTsKICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7CgogICAgICBteS5DQUJfVkVOVF9DT0Q9IG15LmVkaXRlZEl0ZW0uQ0FCX1ZFTlRfQ09EOwogICAgICBteS5DTElfQ09EPSBteS5lZGl0ZWRJdGVtLkNMSV9DT0Q7CiAgICAgIG15LkNBQl9WRU5UX0ZFQ0hBPSBteS5lZGl0ZWRJdGVtLkNBQl9WRU5UX0ZFQ0hBOwogICAgICBteS5DQUJfVkVOVF9UT1RBTD0gbXkuZWRpdGVkSXRlbS5DQUJfVkVOVF9UT1RBTDsKICAgICAgbXkuQ0FCX1ZFTlRfTk9NPSBteS5lZGl0ZWRJdGVtLkNBQl9WRU5UX05PTTsKICAgICAgbXkuQ0FCX1ZFTlRfQ0FOVF9TQUNPUz0gbXkuZWRpdGVkSXRlbS5DQUJfVkVOVF9DQU5UX1NBQ09TOwogICAgICBteS5DQUJfVkVOVF9FU1RBRE89IG15LmVkaXRlZEl0ZW0uQ0FCX1ZFTlRfRVNUQURPOwogICAgICBteS5DQUJfT1BFUkFET1I9IG15LmVkaXRlZEl0ZW0uQ0FCX09QRVJBRE9SOwogICAgICBteS5DQUJfVkVOVF9USVBPX1ZFTlQ9IG15LmVkaXRlZEl0ZW0uQ0FCX1ZFTlRfVElQT19WRU5UOwogICAgICAKICAgICAgbXkubGlzdGFyUmVnaXN0cm9zT3JkZW4obXkuZWRpdGVkSXRlbS5DQUJfVkVOVF9DT0QpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmVkaXRlZEl0ZW0pOwogICAgICBteS5kaWFsb2cgPSB0cnVlOwogICAgfSwKICAgICB2aWV3SXRlbShpdGVtKSB7CiAgICAgIGxldCBteSA9IHRoaXM7CiAgICAgIG15LmFjdGlvbiA9ICJWZXIiOwogICAgIC8vIG15LmNhbXBvRXN0YWRvID0gdHJ1ZTsKICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7CgogICAgICBteS5DQUJfVkVOVF9DT0Q9IG15LmVkaXRlZEl0ZW0uQ0FCX1ZFTlRfQ09EOwogICAgICBteS5DTElfQ09EPSBteS5lZGl0ZWRJdGVtLkNMSV9DT0Q7CiAgICAgIG15LkNBQl9WRU5UX0ZFQ0hBPSBteS5lZGl0ZWRJdGVtLkNBQl9WRU5UX0ZFQ0hBOwogICAgICBteS5DQUJfVkVOVF9UT1RBTD0gbXkuZWRpdGVkSXRlbS5DQUJfVkVOVF9UT1RBTDsKICAgICAgbXkuQ0FCX1ZFTlRfTk9NPSBteS5lZGl0ZWRJdGVtLkNBQl9WRU5UX05PTTsKICAgICAgbXkuQ0FCX1ZFTlRfQ0FOVF9TQUNPUz0gbXkuZWRpdGVkSXRlbS5DQUJfVkVOVF9DQU5UX1NBQ09TOwogICAgICBteS5DQUJfVkVOVF9FU1RBRE89IG15LmVkaXRlZEl0ZW0uQ0FCX1ZFTlRfRVNUQURPOwogICAgICBteS5DQUJfT1BFUkFET1I9IG15LmVkaXRlZEl0ZW0uQ0FCX09QRVJBRE9SOwogICAgICBteS5DQUJfVkVOVF9USVBPX1ZFTlQ9IG15LmVkaXRlZEl0ZW0uQ0FCX1ZFTlRfVElQT19WRU5UOwogICAgICAKICAgIH0sCi8vIGFncmVnYXIgY29uIG1lbnNhaiBkZSBjb25maXJtYWNpw7NuCiAgICBhZGRNU0pDb25maXJtYWNpb24oKSB7CgogICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKTsKICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSh0cnVlKSl7CiAgICAgICAKICAgICAgIGlmKHRoaXMuREVUQUxMRVNfVkVOVEE9PT1bXSB8fCB0aGlzLkRFVEFMTEVTX1ZFTlRBPT1udWxsIHx8IHRoaXMuREVUQUxMRVNfVkVOVEEubGVuZ3RoPT0wKQogICAgICAgICAgdGhpcy5ub19kZXRhbGxlcz10cnVlOwogICAgICAgICAgZWxzZSAKICAgICAgICAgIHRoaXMubm9fZGV0YWxsZXM9ZmFsc2U7CiAgICAgIAogICAgICB0aGlzLmNvbmZpcm1Cb3ggPSB7CiAgICAgICAgICBhZGRSZWdpc3RlcjogdHJ1ZSwKICAgICAgICAgIGl0ZW0gOiBudWxsCiAgICAgICAgICAKICAgICAgICB9OwoKICAgICAgfQogICAgfSwKCiAgICAvLyBFbGlpbWluYXIgcmVnaXN0cm8KICAgIGRlbGV0ZUNhbmNlbGFyKCkgewogICAgICB0aGlzLmNvbmZpcm1Cb3ggPSB7CiAgICAgICAgZGVsZXRlUmVnaXN0ZXI6IGZhbHNlLAogICAgICAgIGl0ZW06IG51bGwKICAgICAgfTsKICAgIH0sCiAgICBkZWxldGVNU0pDb25maXJtYWNpb24oaXRlbSkgewogICAgICB0aGlzLmNvbmZpcm1Cb3ggPSB7CiAgICAgICAgZGVsZXRlUmVnaXN0ZXI6IHRydWUsCiAgICAgICAgaXRlbTogT2JqZWN0LmFzc2lnbih7fSwgaXRlbSkKICAgICAgfTsKICAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pOwogICAgfSwKICAgIGRlbGV0ZUl0ZW0oaXRlbSkgewogICAgICBsZXQgbXkgPSB0aGlzOwogICAgICBteS5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7CiAgICAgLy8gY29uZmlybSgiwr9Fc3TDoSBzZWd1cm8gZGUgcXVlcmVyIGVsaW1pbmFyIGVzdGUgcmVnaXN0cm8/IikgJiYKICAgICAgICBheGlvcwogICAgICAgICAgLmRlbGV0ZShteS5ERUxFVEVfZGVsZXRlICsgbXkuZWRpdGVkSXRlbS5DQUJfVkVOVF9DT0QgKyAiLyIsIHt9KQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgbXkubGlzdGFyKCk7CiAgICAgICAgICAgIG15LmxpbXBpYXIoKTsKICAgICAgICAgICAgbXkucmVmcmVzY2FyVmVudGFzKCk7IC8vIFRISVMKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9KTsKICAgICAgICAgICB0aGlzLmRlbGV0ZUNhbmNlbGFyKCk7CiAgICB9LAoKICAgIGNsb3NlKCkgewogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgICAKICAgICAgICAgIHRoaXMuZXJyb3IgPSBmYWxzZTsKICAgIH0sCiAgICBjbG9zZUxpc3QoKSB7CiAgICAgIHRoaXMuZGlhbG9nTGlzdCA9IGZhbHNlOwogICAgfSwKICAgIGNsb3NlT3JkZW4oKSB7CiAgICAgIHRoaXMuZGlhbG9nT3JkZW4gPSBmYWxzZTsKICAgICAgCiAgICAgICAgICB0aGlzLmVycm9yID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmxpbXBpYXJPcmRlbigpOwogICAgfSwKCiAgICBsaW1waWFyKCkgewogICAgbGV0IG15ID0gdGhpczsKICAgIC8vbXkuQ0xJX0NPRCA9IG51bGw7CiAgICBteS5DQUJfVkVOVF9GRUNIQSA9IG5ldyBEYXRlKCk7CiAgICAvL215LkNBQl9WRU5UX0NPRCA9IG51bGw7CiAgICAvL215LkNBQl9WRU5UX1RPVEFMID0gbnVsbDsKICAgIG15LkNBQl9WRU5UX05PTSA9IG51bGw7CiAgICBteS5DQUJfVkVOVF9DQU5UX1NBQ09TID0gMDsKICAgIG15LkNBQl9WRU5UX0VTVEFETyA9ICdBQ1RJVk8nOwogICAgbXkuQ0FCX09QRVJBRE9SID0gbnVsbDsKICAgIG15LkNBQl9WRU5UX1RJUE9fVkVOVD0gJ0FMIENPTlRBRE8nOwoKICAgbXkudmFsaWQ9IHRydWU7CiAgIG15LmVycm9yPSBmYWxzZTsKICAgbXkubXNnX2Vycm9yPSAiIjsKICAgbXkuZXJyb3Jlcz0gW107CiAgICAKCiAgICB9LAoKICAgIHNhdmUoKSB7CiAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpOwogICAgICBpZiAodGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKHRydWUpKSB7CiAgICAgICAgdGhpcy5lcnJvcmVzID0gW107CiAgICAgIGxldCBteSA9IHRoaXM7ICAgICAgIAppZihteS5hY3Rpb24gPT09ImFncmVnYXIiKXsKICBteS5mZWNoYSA9ICIgIitteS5DQUJfVkVOVF9GRUNIQS5nZXREYXRlKCkrICIvIiArIChteS5DQUJfVkVOVF9GRUNIQS5nZXRNb250aCgpICsxKSArIi8iKyBteS5DQUJfVkVOVF9GRUNIQS5nZXRGdWxsWWVhcigpKyIgIisKICAgICAgbXkuQ0FCX1ZFTlRfRkVDSEEuZ2V0SG91cnMoKSArICI6IisgbXkuQ0FCX1ZFTlRfRkVDSEEuZ2V0TW9udGgoKSArICI6IisgbXkuQ0FCX1ZFTlRfRkVDSEEuZ2V0U2Vjb25kcygpOyAKfQogICAgICBpZiAobXkuYWN0aW9uID09PSAiRWRpdGFyIikgewogICAgICAgIGF4aW9zCiAgICAgICAgICAucHV0KG15LlBVVF9lZGl0ICsgbXkuZWRpdGVkSXRlbS5DQUJfVkVOVF9DT0QgKyAiLyIsIHsKICAgICAgICAgICAgLy9DQUJfVkVOVF9DT0Q6IG15LmVkaXRlZEl0ZW0uQ0FCX1ZFTlRfQ09ELAogICAgICAgICAgICBDTElfQ09EOiBteS5DTElfQ09ELAogICAgICAgICAgICBDQUJfVkVOVF9GRUNIQTogbXkuQ0FCX1ZFTlRfRkVDSEEsCiAgICAgICAgICAgIENBQl9WRU5UX1RPVEFMOiBteS5DQUJfVkVOVF9UT1RBTCwKICAgICAgICAgICAgQ0FCX1ZFTlRfTk9NOiBteS5DQUJfVkVOVF9OT00sCiAgICAgICAgICAgIENBQl9WRU5UX0NBTlRfU0FDT1M6IG15LkNBQl9WRU5UX0NBTlRfU0FDT1MsCiAgICAgICAgICAgIC8vQ0FCX1ZFTlRfRVNUQURPOiBteS5DQUJfVkVOVF9FU1RBRE8sCiAgICAgICAgICAgIENBQl9PUEVSQURPUjogbXkuQ0FCX09QRVJBRE9SLAogICAgICAgICAgICBDQUJfVkVOVF9USVBPX1ZFTlQ6IG15LkNBQl9WRU5UX1RJUE9fVkVOVAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7IAogICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgbXkuY2xvc2UoKTsKICAgICAgICAgICAgbXkubGlzdGFyKCk7CiAgICAgICAgICAgIG15LnJlZnJlc2NhclZlbnRhcygpOyAvLyBUSElTCiAgICAgICAgICAgICBteS5saXN0YXJTdG9jaygpOwogICAgICAgICAgICBteS5saW1waWFyKCk7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgaWYgKGVyci5yZXNwb25zZS5zdGF0dXMgPT0gNDAwKSB7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIGlmIChlcnIucmVzcG9uc2UuZGF0YS5DTElfQ09EICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcmVzLnB1c2goIlNlbGVjY2lvbmUgdW4gYWdyaWN1bHRvciIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGVyci5yZXNwb25zZS5kYXRhLkNBQl9PUEVSQURPUiAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3Jlcy5wdXNoKCJTZWxlY2Npb25lIHVuIG1vbGlubyIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHRoaXMuQ0FCX1ZFTlRfVE9UQUwgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICB0aGlzLmVycm9yZXMucHVzaCgiRXN0byBkZWJpZXJhIHNlciBjYWxjdWxhZG8gaW50ZXJuYW1lbnRlIik7CiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdGhpcy5tb3N0cmFyRXJyb3JlcygpOwogICAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgIAoKCiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy9jb2QgcGFyYSBhZ3JlZ2FyCiAgICAgICAgYXhpb3MKICAgICAgICAgIC5wb3N0KG15LlBPU1RfYWRkLCB7CiAgICAgICAgICAgIENMSV9DT0Q6IG15LkNMSV9DT0QsCiAgICAgICAgICAgIENBQl9WRU5UX0ZFQ0hBOiBteS5DQUJfVkVOVF9GRUNIQSwKICAgICAgICAgICAgQ0FCX09QRVJBRE9SOiBteS5DQUJfT1BFUkFET1IsCiAgICAgICAgICAgIENBQl9WRU5UX1RJUE9fVkVOVDogbXkuQ0FCX1ZFTlRfVElQT19WRU5ULCAKICAgICAgICAgICAgREVUQUxMRVNfVkVOVEE6IG15LkRFVEFMTEVTX1ZFTlRBCiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICBteS5kZWxldGVDYW5jZWxhcigpOyAvLyBUSElTU1NTCiAgICAgICAgICAgIG15LmNsb3NlKCk7CiAgICAgICAgICAgIG15Lmxpc3RhcigpOwogICAgICAgICAgICAgbXkubGlzdGFyU3RvY2soKTsKICAgICAgICAgICAgbXkucmVmcmVzY2FyVmVudGFzKCk7IC8vIFRISVMKICAgICAgICAgICAgbXkubGltcGlhcigpOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgIAogICAgICAgICAgICBpZiAoZXJyLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDApIHsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgaWYgKGVyci5yZXNwb25zZS5kYXRhLkNMSV9DT0QgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICB0aGlzLmVycm9yZXMucHVzaCgiU2VsZWNjaW9uZSB1biBjbGllbnRlIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoZXJyLnJlc3BvbnNlLmRhdGEuQ0FCX09QRVJBRE9SICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcmVzLnB1c2goIlNlbGVjY2lvbmUgdW4gb3BlcmFkb3IiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0aGlzLkNBQl9WRU5UX1RPVEFMID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcmVzLnB1c2goIkVzdG8gZGViaWVyYSBzZXIgY2FsY3VsYWRvIGludGVybmFtZW50ZSIpOwogICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHRoaXMubW9zdHJhckVycm9yZXMoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgfQogICAgICAgfQogICAgfSwgLy9maW4gbcOpdG9kbwoKICAgIC8vIG1ldG9kb1MgRk9STUFUT1MKICAgIGdldENvbG9yKFZBTE9SKSB7CiAgICAgIGlmIChWQUxPUiA9PT0gIkNFUlJBRE8iKSByZXR1cm4gInJlZCI7CiAgICAgIGVsc2UgaWYgKFZBTE9SID09PSAiUEFSQURPIikgcmV0dXJuICJvcmFuZ2UiOwogICAgICBlbHNlIGlmIChWQUxPUiA9PT0gIkFCSUVSVE8iKSByZXR1cm4gImdyZWVuIjsKICAgICAgZWxzZSBpZiAoVkFMT1IpIHJldHVybiAiZ3JlZW4iOwogICAgICBlbHNlIHJldHVybiAicmVkIjsKICAgIH0sCiAgfSwKCiAgICBwcm9wczogewogICAgc291cmNlOiBTdHJpbmcKICB9Cn07Cg=="},{"version":3,"sources":["crud_VentaProducto.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoiBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"crud_VentaProducto.vue","sourceRoot":"src/views/ventas/ventas/componentes","sourcesContent":["<template>\n  <div>\n    <div class=\"mt-4\">\n      <!-- :search=\"(search = agricultorSeleccionado.nombreCompleto)\" -->\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"lista\"\n        class=\"elevation-1\"\n        :search=\"search\"\n        :footer-props=\"{\n          showFirstLastPage: true,\n          firstIcon: 'mdi-arrow-collapse-left',\n          lastIcon: 'mdi-arrow-collapse-right',\n          prevIcon: 'mdi-minus',\n          nextIcon: 'mdi-plus',\n          pageText: '{0}-{1} de {2}',\n          'items-per-page-text': 'Registros por página',\n        }\"\n        sort-by=\"AGR_NOM\"\n      >\n        <template v-slot:top>\n          <v-toolbar flat color=\"black\">\n            <v-toolbar-title>{{ tableTitle }}</v-toolbar-title>\n            <v-divider class=\"mx-4\" inset vertical></v-divider>\n            <v-spacer></v-spacer>\n\n             <v-text-field class=\"text-xs-center\" v-model=\"search\" append-icon=\"search\" label=\"Búsqueda\" single-line hide-details></v-text-field>\n            <v-spacer></v-spacer>\n\n            <!-- DIALOG DE LISTA DE ITEMS -->\n            <template>\n              <div>\n                <v-dialog v-model=\"dialogList\" max-width=\"1100px\">\n                  <v-card>\n                    <v-card-title class=\"pa-4 info\"> </v-card-title>\n\n                    <v-card-text>\n                      <v-container>\n                        <v-card-text>\n                          <v-container>\n\n\n                    <v-row>\n                    <v-col cols=\"12\" sm=\"6\" md=\"6\"> \n                      <v-text-field\n                            outlined\n                            v-model=\"fechaEnFormato\"                            \n                            label=\"Fecha registro\"\n                            disabled\n                            ></v-text-field>\n                       \n                      </v-col>  \n                       <v-col cols=\"12\" sm=\"6\" md=\"6\"> \n                      <v-text-field\n                            outlined\n                            v-model=\"CAB_VENT_NOM\"                            \n                            label=\"Ticket generado\"\n                            disabled\n                            ></v-text-field>\n                       \n                      </v-col> \n                                         \n       \n                         </v-row>\n\n                         \n                          <v-row>\n                            \n                   \n                    <v-col class=\"d-flex\" cols=\"12\" sm=\"6\" md=\"6\" >                             \n                       <v-select outlined\n                            prepend-inner-icon=\"mdi-account\"\n                            v-model=\"CLI_COD\"\n                            :items=\"op_clientes\"\n                            :item-text=\"item => item.CLI_NOM +' '+ item.CLI_APE\"\n                            item-value=\"CLI_COD\"                            \n                            label=\"Cliente\"\n                            persistent-hint\n                             disabled\n                            no-data-text=\"No se tiene registros\"\n                          > </v-select>\n                    </v-col>                  \n                  \n                      <v-col class=\"d-flex\" cols=\"12\" sm=\"6\" md=\"6\"  >                             \n                       <v-select \n                            outlined\n                            prepend-inner-icon=\"fas fa-hand-spock\"\n                            v-model=\"CAB_OPERADOR\"\n                            :items=\"op_trabajadores\"\n                            :item-text=\"item => item.TRA_NOM +' '+item.TRA_APE\"\n                            item-value=\"TRA_COD\"                            \n                            label=\"Operador\"\n                             disabled                          \n                            no-data-text=\"No se tiene registros\"\n                          > </v-select>\n                    </v-col>\n   \n                          </v-row>\n                           <v-row>                          \n                            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                              <v-radio-group v-model=\"CAB_VENT_TIPO_VENT\" label=\"Condición de Pago\" row >\n                                <v-radio disabled label=\"Al contado\" color=\"orange\" value=\"AL CONTADO\"></v-radio>\n                                <v-radio disabled label=\"AL crédito\" color=\"orange\" value=\"CREDITO\"></v-radio>  \n                              </v-radio-group>\n                            </v-col>\n                            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                              <v-text-field\n                            outlined\n                            hide-details\n                            v-model=\"CAB_VENT_TOTAL\"                            \n                            label=\"TOTAL: \"\n                            background-color=\"black\"\n                            disabled\n                            ></v-text-field>\n                            </v-col>\n                        \n                          </v-row>\n\n<!--\n                            <v-row>\n                              <h3 class=\"headline white--text\">\n                                Lista de registros\n                              </h3>\n                            </v-row>  -->\n\n                            <v-row>\n                              <v-data-table\n                                :headers=\"headersList\"\n                                :items=\"listaRegistros\"\n                                class=\"elevation-1\"\n                                :footer-props=\"{\n                                  showFirstLastPage: true,\n                                  firstIcon: 'mdi-arrow-collapse-left',\n                                  lastIcon: 'mdi-arrow-collapse-right',\n                                  prevIcon: 'mdi-minus',\n                                  nextIcon: 'mdi-plus',\n                                  pageText: '{0}-{1} de {2}',\n                                  'items-per-page-text': 'Registros por página',\n                                }\"\n                              >\n                                <template>\n                                  <v-toolbar flat color=\"black\">\n                                    <v-toolbar-title\n                                      >lista de registros</v-toolbar-title\n                                    >\n                                    <v-divider\n                                      class=\"mx-4\"\n                                      inset\n                                      vertical\n                                    ></v-divider>\n                                    <v-spacer></v-spacer>\n                                  </v-toolbar>\n                                </template>                               \n                               \n                                \n                              </v-data-table>\n                            </v-row>\n                          </v-container>\n                        </v-card-text>\n                      </v-container>\n                    </v-card-text>\n\n                    <v-card-actions>\n                      <v-spacer></v-spacer>\n                      <v-btn color=\"blue darken-1\" text @click=\"closeList\"\n                        >Salir</v-btn\n                      >\n                    </v-card-actions>\n                  </v-card>\n                </v-dialog>\n              </div>\n            </template>\n\n            <!-- FIN DIALOG LISTA DE ITEMS-->\n            <!-- DIALOG DE REGISTRO DE VENTA-->\n            <v-dialog v-model=\"dialog\" max-width=\"1000px\">\n              <template v-slot:activator=\"{ on }\">\n                <v-btn\n                  color=\"primary\"\n                  dark\n                  class=\"mb-2\"\n                  v-on=\"on\"\n                  @click=\"addItem\"\n                  >Agregar {{ singular }}</v-btn\n                >\n              </template>\n              <v-form ref=\"form\" v-model=\"valid\" lazy-validation> <!-- FORMULARIO -->\n                <v-card>\n                  <v-card-title class=\"pa-4 orange\"> </v-card-title>\n\n                  <v-card-text>\n                    <v-container>\n                      <v-card-text>\n                        <v-container>\n                          <v-row>\n                            <h3 class=\"headline white--text\">\n                              {{ formTitle }}\n                            </h3>\n                          </v-row>\n  <v-row>\n                    <v-col cols=\"12\" sm=\"6\" md=\"6\"> \n                      <v-text-field\n                            outlined\n                            v-model=\"fechaEnFormato\"                            \n                            label=\"Fecha registro\"\n                            disabled\n                            ></v-text-field>\n                       \n                      </v-col>  \n                       <v-col cols=\"12\" sm=\"6\" md=\"6\"> \n                      <v-text-field\n                            outlined v-if=\"campoEstado\"\n                            v-model=\"CAB_VENT_NOM\"                            \n                            label=\"Ticket generado\"\n                            disabled\n                            ></v-text-field>\n                       \n                      </v-col> \n                                         \n       \n                         </v-row>\n\n                         \n                          <v-row>\n                   \n                    <v-col class=\"d-flex\" cols=\"12\" sm=\"6\" md=\"6\" >                             \n                       <v-select outlined\n                            prepend-inner-icon=\"mdi-account\"\n                            v-model=\"CLI_COD\"\n                            :items=\"op_clientes\"\n                            :item-text=\"item => item.CLI_NOM +' '+ item.CLI_APE\"\n                            item-value=\"CLI_COD\"                            \n                            label=\"Cliente\"\n                            persistent-hint\n                            :rules=\"selectRules\"\n                             required\n                            no-data-text=\"No se tiene registros\"\n                          > </v-select>\n                    </v-col>                  \n                  \n                      <v-col class=\"d-flex\" cols=\"12\" sm=\"6\" md=\"6\"  >                             \n                       <v-select \n                            outlined\n                            prepend-inner-icon=\"fas fa-hand-spock\"\n                            v-model=\"CAB_OPERADOR\"\n                            :items=\"op_trabajadores\"\n                            :item-text=\"item => item.TRA_NOM +' '+item.TRA_APE\"\n                            item-value=\"TRA_COD\"                            \n                            label=\"Operador\"\n                            persistent-hint \n                            :rules=\"selectRules\"                           \n                            no-data-text=\"No se tiene registros\"\n                          > </v-select>\n                    </v-col>\n   \n                          </v-row>\n                          <v-row>                          \n                            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                              <v-radio-group v-model=\"CAB_VENT_TIPO_VENT\" label=\"Condición de Pago\" row >\n                                <v-radio label=\"Al contado\" color=\"orange\" value=\"AL CONTADO\"></v-radio>\n                                <v-radio label=\"AL crédito\" color=\"orange\" value=\"CREDITO\"></v-radio>  \n                              </v-radio-group>\n                            </v-col>\n                            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                              <v-text-field\n                            outlined\n                            hide-details\n                            v-model=\"subtotal\"                            \n                            label=\"TOTAL: \"\n                            background-color=\"black\"\n                            disabled\n                            ></v-text-field>\n                            </v-col>\n                        \n                          </v-row>\n                       \n\n <!-- DIALOG DE REGISTRO DE ORDENNNNN    -->\n            <v-dialog v-model=\"dialogOrden\" max-width=\"1000px\">\n              <template v-slot:activator=\"{ on }\">\n                 <v-btn \n                  color=\"primary\"\n                  dark dense\n                  class=\"mb-2\"\n                  v-on=\"on\"\n                  @click=\"addItemOrden\"\n                  >Seleccionar productos</v-btn\n                >\n              </template>\n               <v-card>\n                  <v-card-title class=\"pa-4 orange\"> </v-card-title>\n\n                  <v-card-text>\n                    <v-container>\n                      <v-card-text>\n                        <v-container>\n                          <v-row>\n                            <h3 class=\"headline white--text\">\n                              Pedidos\n                            </h3>\n                          </v-row>\n\n                          <v-row>\n                            <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                             <!-- TABLA DE STOCKS LISTA -->\n                          <v-row> <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                              <v-data-table\n                                v-model=\"stockSelected\"\n                                :headers=\"headersListaStock\"\n                                :items=\"listaStock\"\n                                :single-select=\"false\"\n                                item-key=\"index\"\n                                show-select                              \n                                class=\"elevation-1\"\n                                :search=\"searchStock\"\n                                multi-sort                                \n                                hide-default-footer  \n                                \n                              >\n                              <template v-slot:top>\n                                <v-toolbar flat color=\"black\">\n                                  <v-toolbar-title>Seleccion productos</v-toolbar-title>\n                                  <v-divider class=\"mx-4\" inset vertical></v-divider>\n                                                    <v-spacer></v-spacer>\n                                                    <v-text-field class=\"text-xs-center\" v-model=\"searchStock\" append-icon=\"search\" label=\"Búsqueda\" single-line hide-details></v-text-field>\n                                                    <v-spacer></v-spacer>\n                                                                                                    \n                                </v-toolbar>\n                              </template>\n                              \n\n                               <template v-slot:[`item.actions`]=\"{ item }\"> <!-- NO SE MUESTRA actions -->\n                                  <v-icon small class=\"mr-2\" @click=\"showItems(item)\">mdi-menu</v-icon>\n                                  <v-icon small class=\"mr-2\" @click=\"editItem(item)\"\n                                    >mdi-pencil</v-icon\n                                  >\n                                  <v-icon medium @click=\"deleteItem(item)\">mdi-delete</v-icon>\n                                </template>\n                              </v-data-table> \n                              </v-col>\n                              \n                       </v-row>\n                                 </v-col>\n                              \n                                    \n                          </v-row>\n\n                          \n                          <!-- antes lo de si pagaba o no el pilado saco kilo-->\n                               <v-row>\n                                 <v-col  cols=\"12\" sm=\"12\" md=\"12\">\n                      <!-- MENSAJE DE ALERTA DE VALIDACIÓN-->\n                          <v-alert  v-if=\"error\" type=\"error\">\n                            <li v-for=\"item in errores\" v-bind:key=\"item\">{{ item }} </li>\n                             <strong> </strong>\n                          </v-alert>\n                          <!-- FIN MENSAJE DE ALERTA -->\n                                 </v-col>\n                          </v-row>\n\n\n                        </v-container>\n                      </v-card-text>\n                    </v-container>\n                  </v-card-text>\n\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"orange\" text @click=\"closeOrden\"\n                      >Cancelar</v-btn\n                    >\n                    <v-btn color=\"orange\" text @click=\"addDetalles\">Validar selección</v-btn>\n                  </v-card-actions>\n                </v-card>\n              \n            </v-dialog>\n\n            <!-- FIN DIALOG DE ooooooooo -->\n\n                          <!-- TABLA DE ORDENES AÑADIDAS-->\n                          <v-row> <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                              <v-data-table\n                                :headers=\"headersOrdenes\"\n                                :items=\"DETALLES_VENTA\"\n                                class=\"elevation-1\"\n                                 hide-default-footer\n                                  \n                              >\n                                <template>\n                                  <v-toolbar flat color=\"black\">\n                                    <v-toolbar-title\n                                      >lista de registros</v-toolbar-title\n                                    >\n                                    <v-divider\n                                      class=\"mx-4\"\n                                      inset\n                                      vertical\n                                    ></v-divider>\n                                    <v-spacer></v-spacer>\n                                  </v-toolbar>\n                                </template>\n                        <template v-slot:[`item.saldo`]=\"{ item }\"> <!-- NO SE MUESTRA actions -->\n                                  <v-text-field\n                            \n                            background-color=\"black\"\n                            v-model=\"item.saldo\"\n                            :rules=\"[v => !v || v>=0  ||'Supera stock']\"\n                            disabled\n                          >{{item.saldo  = item.STOCK-item.DET_VENT_CANTIDAD}}</v-text-field> \n                                  \n                        </template> \n                        <template v-slot:[`item.DET_VENT_CANTIDAD`]=\"{ item }\"> <!-- NO SE MUESTRA actions -->\n                                  <v-text-field\n                            \n                            background-color=\"black\"\n                            v-model=\"item.DET_VENT_CANTIDAD\"\n                            type=\"number\"\n                            :rules=\"cantidadRulesRequired\"\n                            v-on:keypress=\"isPositive($event)\"\n                          ></v-text-field> \n                                  \n                        </template> \n                       <template v-slot:[`item.DET_VENT_PRECIO_VENT`]=\"{ item }\">\n                                 <v-text-field\n                           \n                            background-color=\"black\"\n                            v-model=\"item.DET_VENT_PRECIO_VENT\"\n                            type=\"number\"\n                            :rules=\"cantidadRulesRequired\"\n                            v-on:keypress=\"isPositive($event)\"                            \n                          ></v-text-field> \n                                </template> \n                            \n                        <template v-slot:[`item.DET_VENT_SUBTOTAL`]=\"{ item }\">\n                           <v-text-field\n                            v-model=\"item.DET_VENT_SUBTOTAL\"\n                            background-color=\"black\"\n                            disabled\n                            >{{item.DET_VENT_SUBTOTAL = item.DET_VENT_PRECIO_VENT * item.DET_VENT_CANTIDAD}}</v-text-field>\n                               \n                           </template>\n\n                          <template v-slot:[`item.actions`]=\"{ item }\">\n                               \n                                <v-icon medium @click=\"deleteOrden(item)\">mdi-delete</v-icon>\n                                </template>                             \n\n                              </v-data-table>\n                              </v-col>\n                              \n                       </v-row>\n                                            \n                  \n\n                               <v-row> <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                      <!-- MENSAJE DE ALERTA DE VALIDACIÓN-->\n                          <v-alert  v-if=\"error\" dense type=\"error\">\n                            <li v-for=\"item in errores\" v-bind:key=\"item\">{{ item }} </li>\n                             <strong> </strong>\n                          </v-alert>\n                          <!-- FIN MENSAJE DE ALERTA -->\n                          </v-col>\n                          </v-row>\n\n                        </v-container>\n                      </v-card-text>\n                    </v-container>\n                  </v-card-text>\n\n                  <v-card-actions>  \n                     <v-spacer>                   \n                     </v-spacer>\n                    <v-btn color=\"blue darken-1\" text @click=\"close\"\n                      >Cancelar</v-btn\n                    >\n                    <v-btn \n                    :disabled=\"!valid\" color=\"blue darken-1\" text @click=\"addMSJConfirmacion\">{{\n                      action_form\n                    }}</v-btn>\n                  </v-card-actions>\n                </v-card>\n              </v-form>\n              \n            </v-dialog>\n\n            <!-- FIN DIALOG DE REGISTRO DE VENTA -->\n          </v-toolbar>\n        </template>\n        \n        <template v-slot:[`item.actions`]=\"{ item }\">\n          <v-icon medium class=\"mr-2\" @click=\"showItems(item)\">ti-eye</v-icon>\n       <!--   <v-icon  medium class=\"mr-2\" @click=\"editItem(item)\">mdi-pencil</v-icon>  -->\n          <v-icon small @click=\"deleteMSJConfirmacion(item)\">mdi-delete</v-icon>\n        </template>\n        <template v-slot:no-data>\n          <v-btn color=\"primary\" @click=\"listar\">Reset</v-btn>\n        </template>\n      </v-data-table>\n    </div>\n      <div>\n\n    <template>\n        <!-- ====================================== -->\n                        <!-- Delete Contact confirmbox -->\n                        <!-- ====================================== -->\n                        <v-dialog v-model=\"confirmBox.deleteRegister\" max-width=\"290\">\n                          <v-card class=\"confirm-box\">\n                            <v-card-title>\n                              <span>Eliminar registro</span>\n                            </v-card-title>\n                            <v-card-text class=\"py-2\">Está segugro de querer eliminar el registro?</v-card-text>\n                            <v-card-actions>\n                              <v-spacer></v-spacer>\n                              <v-btn color=\"error\" text @click=\"deleteCancelar\">Cancelar</v-btn>\n\n                              <v-btn color=\"error\" @click=\"deleteItem(confirmBox.item)\">Eliminar</v-btn>\n                            </v-card-actions>\n                          </v-card>\n                        </v-dialog>\n    </template>\n  </div>\n   <div>\n\n    <template>\n        <!-- ====================================== -->\n                        <!-- Add  venta confirmbox -->\n                        <!-- ====================================== -->\n                        <v-dialog v-model=\"confirmBox.addRegister\" max-width=\"290\">\n                          <v-card class=\"confirm-box\">\n                            <v-card-title>\n                              <span>Añadir registro</span>\n                            </v-card-title>\n                            <v-card-text v-if=\"no_detalles\" class=\"py-2\">Debe registrar detalles primero</v-card-text>\n                            <v-card-text v-else class=\"py-2\">¿Está seguro de querer guardar el registro?</v-card-text>\n                            \n                            <v-card-actions>\n                              <v-spacer></v-spacer>\n                              <v-btn color=\"error\" text @click=\"deleteCancelar\">Cancelar</v-btn>\n                              <v-btn v-if=\"!no_detalles\" color=\"success\" @click=\"save\">Guardar</v-btn>                              \n                            </v-card-actions>\n                          </v-card>\n                        </v-dialog>\n    </template>\n  </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { mapState, mapActions } from \"vuex\";\n\nexport default {\n  name: \"crud_VentaProducto\",\n\n  data: () => ({\n    singular: \"venta productos \",\n    tableTitle: \"Venta de productos\",\n    action: \"nothing\",\n    action_orden: \"nothing\",\n    campoEstado: false,\n    campoEstadoOrden: false,\n    CERRAR_LOTE : true,\n    op_estados: [\"ACTIVO\", \"INACTIVO\"],\n\n    op_condicion: [\"SACO\", \"KILO\"],\n    fecha :\"\",\n    op_agricultores: [],\n    op_lotes: [],\n    op_clientes: [],\n    op_trabajadores: [],\n    op_envases: [],\n    op_productos: [],\n    op_productosAgr: [], // this\n\n    op_variedad: [],\n\n    op_lotesxAgr:[],\n\n    parteSelected: null,\n    agr_selected: null,\n    mol_selected: null,\n    lot_selected: null,\n    operador_Selected : null,\n    pesador_Selected : null,\n    polvillero_Selected : null,\n    estibador1_Selected : null,\n    estibador2_Selected : null,\n\n    vas_selected: { \"ENV_COD\":null, \"ENV_NOM\":null},\n    pro_selected: {\"PRO_COD\": null, \"PRO_DESCRIPCION\": null},\n//isSAco: true,\n    dialog: false,\n\n    dialogList: false,\n    dialogOrden: false,\n    editedIndexOrden :null,\n\n    headers: [\n      {\n        align: \"start\",\n        sortable: true,\n        // atributos de cada item\n      text: \"Nro Ticket\" , value: \"CAB_VENT_NOM\"},\n      { text: \"Fecha\" , value: \"CAB_VENT_FECHA\"},\n      //{ text: \"\" , value: \"CLI_COD\"}, \n      { text: \"Cliente\" , value: \"CLIE_NOM_COMPLETO\"},\n      //{ text: \"\" , value: \"CAB_VENT_COD\"},\n      { text: \"Cantidad\" , value: \"CAB_VENT_CANT_SACOS\"},\n      { text: \"Venta total\" , value: \"CAB_VENT_TOTAL\"},\n      //{ text: \"\" , value: \"CAB_VENT_ESTADO\"},\n      { text: \"Operador\" , value: \"OPER_NOM_COMPLETO\"},\n      //{ text: \"\" , value: \"CAB_OPERADOR\"},\n      { text: \"Pago\" , value: \"CAB_VENT_TIPO_VENT\"},\n      // opciones por cada item\n      { text: \"Opciones\", value: \"actions\", sortable: false },\n\n      \n    ],\n\n    headersList: [ // lista de detalles por TICKET\n      {\n        align: \"start\",\n        sortable: true,\n        // atributos de cada item\n        //text: \"\" , value: \"CAB_VENT_COD\"},\n        //{ text: \"\" , value: \"PRO_COD\"},\n        //{ text: \"\" , value: \"AGR_COD\"},\n        //{ text: \"\" , value: \"DET_VENT_COD\"},\n         text: \"Producto\" , value: \"PRO_DESCRIPCION\"},\n         { text: \"Agricultor\" , value: \"AGR_NOM_COMPLETO\"},\n          { text: \"Envase\" , value: \"ENV_NOM\"},\n       // { text: \"Unidad\" , value: \"DET_VENT_UNIDAD\"},\n        { text: \"Descripción\" , value: \"DET_VENT_DESCRIPCION\"},\n        { text: \"Cantidad\" , value: \"DET_VENT_CANTIDAD\"},\n        { text: \"Precio U.\" , value: \"DET_VENT_PRECIO_VENT\"},\n        { text: \"Total\" , value: \"DET_VENT_SUBTOTAL\"},\n        //{ text: \"\" , value: \"DET_VENT_ESTADO\"},\n    ],\n\n    headersOrdenes: [ // detalle de venta\n       { align: \"start\", \n         text: \"Producto\" , value: \"PRO_DESCRIPCION\"}, // PRODUCTO_DESCRIPCION\n        { text: \"Agricultor\" , value: \"AGR_NOM_COMPLETO\"},\n       { text: \"Envase\" , value: \"ENV_NOM\"},\n       // { text: \"Unidad\" , value: \"DET_VENT_UNIDAD\"},\n       // { text: \"Descripción\" , value: \"DET_VENT_DESCRIPCION\"},\n       { text: \"Saldo\" , value: \"saldo\"},\n        { text: \"Cantidad\" , value: \"DET_VENT_CANTIDAD\"},\n        { text: \"Precio U.\" , value: \"DET_VENT_PRECIO_VENT\"}, //DET_VENT_PRECIO_VENT\n        { text: \"Total\" , value: \"DET_VENT_SUBTOTAL\"},    \n        \n       { text: \"Opciones\", value: \"actions\", sortable: false },       \n       \n    ],\n    headersListaStock:[ // detalle de venta\n       { align: \"start\", \n         text: \"Producto\" , value: \"PRO_DESCRIPCION\"}, // PRODUCTO_DESCRIPCION\n       { text: \"Envase\" , value: \"ENV_NOM\"},\n       { text: \"Agricultor\" , value: \"AGR_NOM_COMPLETO\"},\n       { text: \"Precio U.\" , value: \"DET_VENT_PRECIO_VENT\"},\n       { text: \"Stock\" , value: \"STOCK\"}, \n       //{ text: \"Opciones\", value: \"actions\", sortable: false },       \n       \n    ],\n    listaStock:[]\t,\n    searchStock:\"\", //buscar stock\n    stockSelected:[],\n    \n    listaRegistros: [],\n\n    search: \"\", // BUSQUEDA\n    lista: [],\n    POST_add : 'vent/add/',\n    DELETE_delete : 'vent/delete/',\n    PUT_edit : 'vent/edit/',\n    GET_list : 'vent/list/',\n    GET_total : 'vent/total/',\n\n    /// datos para guardar VENTA\n    CLI_COD : null,\n    CAB_VENT_FECHA : null,\n    CAB_VENT_COD : null,\n    CAB_VENT_TOTAL : 0,\n    CAB_VENT_NOM : null,\n    CAB_VENT_CANT_SACOS : 0,\n    CAB_VENT_ESTADO : null,\n    CAB_OPERADOR : null,\n    CAB_VENT_TIPO_VENT:\"AL CONTADO\",\n\n    editedIndex: -1,\n\n    editedItem: {\n    CLI_COD : null,\n    CAB_VENT_FECHA : null,\n    CAB_VENT_COD : null,\n    CAB_VENT_TOTAL : 0,\n    CAB_VENT_NOM : null,\n    CAB_VENT_CANT_SACOS : 0,\n    CAB_VENT_ESTADO : null,\n    CAB_OPERADOR : null,\n    CAB_VENT_TIPO_VENT:\"AL CONTADO\",\n    },\n// datos ORDEN VENTA\n   // CAB_VENT_COD : null,\n    PRO_COD : null,\n    AGR_COD : null,\n    ENV_COD: null,    \n    DET_VENT_COD : null,\n    DET_VENT_UNIDAD : 'SACO',\n    DET_VENT_PRECIO_VENT : null,\n    DET_VENT_DESCRIPCION : null,\n    DET_VENT_CANTIDAD : null,\n    DET_VENT_SUBTOTAL : null,\n    DET_VENT_ESTADO : null,\n    ENV_NOM : null,\n\n    \n    orden:{\n    CAB_VENT_COD : null,\n    PRO_COD : null,\n    AGR_COD : null,\n    ENV_COD: null,\n    DET_VENT_COD : null,\n    DET_VENT_UNIDAD : 'SACO',\n    DET_VENT_PRECIO_VENT : null,\n    DET_VENT_DESCRIPCION : null,\n    DET_VENT_CANTIDAD : null,\n    DET_VENT_SUBTOTAL : null,\n    DET_VENT_ESTADO : null,\n    PRO_DESCRIPCION : null, // this\n    ENV_NOM : null,\n    AGR_NOM_COMPLETO : null // this\n    },\n\n    DETALLES_VENTA: [],\n    no_detalles:true,\n\n     // data validación\n    valid: true,\n    valid2:true,\n    error: false,\n    msg_error: \"\",\n    errores: [],\n    selectRules: [\n       (v) => !!v || \"Este dato es requerido\",\n    ],\n    textoRules: [\n      (v) => !!v || \"Este campo es obligatorio\",\n      (v) =>\n        (v && v.length <= 60) || \"El texto debe tener menos de 60 caracteres\",\n    ],\n     cantidadRules: [\n      (v) => !v || /^[+-]?\\d+([,.]\\d+)?$/.test(v) ||/^([0-9])*$/.test(v) || \"Ingrese un número\",\n    ],\n     cantidadRulesRequired: [\n       (v) => !!v || \"Es requerido\",  \n      (v) => !!v || /^[+-]?\\d+([,.]\\d+)?$/.test(v) ||/^([0-9])*$/.test(v) || \"Ingrese un número\",\n    ],\n\n     // data eliminacion\n    confirmBox: {\n      deleteRegister: false,\n      addRegister: false,\n      item: null\n    },\n\n\n  }),\n\n  computed: {\n   \n    formTitle() {\n      return this.action === \"Agregar\"\n        ? \"Agregar \" + this.singular\n        : \"Editar \" + this.singular;\n    },\n    isSAco(){\n      return this.DET_VENT_UNIDAD===\"KILO\";\n    },\n    action_form() {\n      return this.action === \"Agregar\" ? \"Agregar\" : \"Editar\";\n    },\n    action_ordenForm() {\n      return this.action_orden === \"Agregar\" ? \"Agregar\" : \"Editar\";\n    },\n    subtotal(){\n      return (this.DETALLES_VENTA.length>0) ? this.sumarDetalles() :0;\n    },\n    calculo_pesoneto() {\n      //this.REC_PE_NE = this.REC_PE_B - this.REC_TAR;\n      return this.REC_PE_B > 0 ? (this.REC_PE_B- this.REC_TAR) : 0;\n    \n    },\n   \n    fechaEnFormato(){ \n      let my = this;\n      let fechita = new Date();\n     my.fecha = \" \"+fechita.getDate()+ \"/\" + (fechita.getMonth() +1) +\"/\"+ fechita.getFullYear()+\" \"+\n      fechita.getHours() + \":\"+ fechita.getMonth() + \":\"+ fechita.getSeconds(); \n return my.fecha;\n      \n    },\n    computedDateFormatted() {\n      // fecha\n      return this.formatDate(this.date);\n    },\n    // generador de listas referenciales no BD\n     years () { //2 años antes y 2 despues del año actual\n      const year = new Date().getFullYear()\n      return Array.from({length: (year+2) - (year-2)}, (value, index) => (year-2) + index)\n    },\n    // FIN listas referenciales no BD\n   \n   // variables de store\n    ...mapState([\"agricultorSeleccionado\"]),\n    agricultorSeleccionado: {\n      get() {\n        return this.$store.state.agricultorSeleccionado;\n      },\n      set(val) {\n        this.$store.commit(\"SET_AGRICULTOR\", val);\n      },\n    },\n    // fin variables de store\n  },\n\n  watch: {\n    dialog(val) {\n      val || this.close();\n    },\n     dialogOrden(val) {\n      val || this.closeOrden();\n    },\n  },\n\n  created() {\n    this.from_indicadores(),\n    this.listar(),\n      this.listarAgricultores(),\n      this.listarLotes(),\n     //this.listarRegistros();\n   \n      this.listarClientes();\n      this.listarTrabajadores();\n      this.listarEnvases();\n      this.listarProductos();\n      this.listarProductosAgr();\n    //\n  },\n\n  methods: {\n...mapActions([\"refrescarVentas\"]),\n     from_indicadores(){\n      if(this.$route.params.ad===\"ad\")\n      this.addItem();\n    },\n\n    // metodos de validaciónn\n    isPositive(e)\n  {\n      let char = String.fromCharCode(e.keyCode);\n      if(/^[-]+$/.test(char) ) e.preventDefault();\n     \n  },\n    mostrarErrores() {\n      // se entiende que ya hay errores almacenados\n      this.msg_error = \"\";\n      for (let i = 0; i < this.errores.length; i++) {\n        this.msg_error = this.msg_error + \"\\n\" + this.errores[i];\n      }\n      this.error = true;\n    },\n\nsumarDetalles(){\n  let suma=0;\n  for(let i = 0; i< this.DETALLES_VENTA.length; i++){\n    suma=suma+this.DETALLES_VENTA[i].DET_VENT_SUBTOTAL;\n\n  } \n  return suma;\n},\n    listarStock(){ // \n      let my = this;\n      let count=0;\n      axios\n        .get(\"prod/stockV2/\") // CAMBIARRRR\n        .then(function (response) {\n         my.listaStock = response.data.map((item) => {\n          // item['index']=count++;\n          \n          my.orden = {\n                  \"index\" : count++,\n                  \"STOCK\": item.STOCK,\n                  \"saldo\": item.STOCK,\n                  \"CAB_VENT_COD\" : null,\n                  \"PRO_COD\" : item.PRO_COD,\n                  \"AGR_COD\" : item.AGR_COD,\n                  \"ENV_COD\" : item.ENV_COD,\n                  \"DET_VENT_COD\" : null,\n                  \"DET_VENT_UNIDAD\" : item.DET_VENT_UNIDAD,\n                  \"DET_VENT_PRECIO_VENT\" : item.PRO_PREC_VENTA,\n                  \"DET_VENT_DESCRIPCION\" : item.DET_VENT_DESCRIPCION,\n                  \"DET_VENT_CANTIDAD\" : 1,\n                  \"DET_VENT_SUBTOTAL\" : item.DET_VENT_SUBTOTAL,\n                  \"DET_VENT_ESTADO\" : \"ACTIVO\",\n                  \"ENV_NOM\" : item.ENV_NOM,\n                  \"PRO_DESCRIPCION\" : item.PRO_DESCRIPCION,\n                  \"AGR_NOM_COMPLETO\" : item.AGR_FULL_NAME,\n\n                  };\n           \n           return my.orden;}); // aqui se pretende tener un INDEX\n          console.log(response);\n          count=0;\n       \n        })\n        .catch(function (err) {\n          \n          console.log(err.response.data);\n        });\n    }, //fin listar\n    //PROCEDIMIENTOS para el CRUD\n     listarClientes() {\n      let my = this;\n      axios\n        .get(\"cli/list/\")\n        .then(function (response) {\n          my.op_clientes = response.data;\n        })\n        .catch(function (err) {\n          console.log(err.response.data);\n        });\n    }, //fin listar\n    listarTrabajadores() {\n      let my = this;\n      axios\n        .get(\"tra/list/\")\n        .then(function (response) {\n          my.op_trabajadores = response.data;\n        })\n        .catch(function (err) {\n          console.log(err.response.data);\n        });\n    }, //fin listar\n     listarEnvases() {\n      let my = this;\n      axios\n        .get(\"env/list/\")\n        .then(function (response) {\n          my.op_envases = response.data;\n        })\n        .catch(function (err) {\n          console.log(err.response.data);\n        });\n    }, //fin listar\n    //  prod/listStockEnv/\n//prod/listStockEnvAgr/1/\n     listarProductos() {\n      let my = this;\n      axios\n        .get(\"prod/listStockEnv/\") //pro/list/\n        .then(function (response) {\n          my.op_productos = response.data;\n        })\n        .catch(function (err) {\n          console.log(err.response.data);\n        });\n    }, //fin listar\n    listarProductosAgr() {\n      let my = this;\n      if(my.AGR_COD === \"\" || my.AGR_COD ===null || my.AGR_COD ==='<< No asignado >>' ){\n          axios\n        .get(\"prod/listStockEnv/\") //pro/list/\n        .then(function (response) {\n          my.op_productos = response.data;\n        })\n        .catch(function (err) {\n          console.log(err.response.data);\n        });\n      }else{\n      axios.get(\"prod/listStockEnvAgr/\"+my.AGR_COD+\"/\").\n          then(function(response){        \n          my.op_productos = response.data;\n        })\n        .catch(function (err) {\n          console.log(err.response.data);\n        });\n    }\n    }, //fin listar\n    listarAgricultores() {\n      let my = this;\n      axios\n        .get(\"agr/list/\")\n        .then(function (response) {          \n          my.op_agricultores = response.data;\n          my.op_agricultores.push('<< No asignado >>');\n         \n        })\n        .catch(function (err) {\n          console.log(err.response.data);\n        });\n    }, //fin listar\n    listarLotes() {\n      let my = this;\n      axios\n        .get(\"lot/list/\")\n        .then(function (response) {\n          my.op_lotes = response.data;\n          console.log(my.op_lotes);\n        })\n        .catch(function (err) {\n          console.log(err.response.data);\n        });\n    }, //fin listar\n    //Procedimiento Listar\n    listar() {\n      let my = this;\n      axios\n        .get(my.GET_list)\n        .then(function (response) {\n          my.lista = response.data;\n        })\n        .catch(function (err) {\n          console.log(err.response.data);\n        });\n    }, //fin listar\n\n    listarRegistros() {\n      let my = this;\n      axios\n        .get(\"dvent/list/\" + my.parteSelected + \"/\")\n        .then(function (response) {\n          my.listaRegistros = response.data;\n          my.parteSelected = null;\n        })\n        .catch(function (err) {\n          console.log(err.response.data);\n        });\n    }, //fin listar\n\n     listarRegistrosOrden(cod) {\n      let my = this;\n      axios\n        .get(\"dvent/list/\" + cod + \"/\")\n        .then(function (response) {\n          my.DETALLES_VENTA = response.data;\n          \n        })\n        .catch(function (err) {\n          console.log(err.response.data);\n        });\n    }, //fin listar\n\n    showItems(item) {\n      let my = this;\n      my.parteSelected = Object.assign({}, item).CAB_VENT_COD;\n      console.log(\"REGISTRO : \" + my.parteSelected);\n      //nuevoo\n      my.viewItem(item);\n       //fin nuevo\n      this.listarRegistros();\n      my.dialogList = true;\n    },\n\n    addItem() {\n      let my = this;\n      my.action = \"Agregar\";\n      my.campoEstado = false;\n      my.limpiar();\n      my.limpiar_detallesOrden(); // resetear lo antes\n      my.dialog = true;\n      \n    },\n    addDetalles(){\n      \n      let my = this;\n       my.DETALLES_VENTA = my.stockSelected.map((item) => item);\n       my.closeOrden();\n     \n        //my.limpiarOrden();\n      //  my.refrescarVentas(); // THIS\n\n    },\n     addItemOrden() {\n      let my = this;\n      my.action_orden = \"Agregar\";\n      my.campoEstadoOrden = false;\n     my.listarStock(); // para que liste lo q se quiere\n     \n    \n      \n      my.dialogOrden = true;\n    },\n\n  \n    deleteOrden(item){\n      \n      if(this.campoEstadoOrden){ // se está editando el parte\n      let my = this;\n      my.orden = Object.assign({}, item);\n      confirm(\"¿Está seguro de querer eliminar este registro?\") &&\n        axios\n          .delete(\"dvent/delete/\" + my.orden.DET_VENT_COD + \"/\", {})\n          .then((response) => {\n            console.log(response);\n            \n           my.listarRegistros();\n           my.listarRegistrosOrden(my.orden.DET_VENT_COD);\n           my.refrescarVentas(); // THIS\n            my.limpiarOrden();\n          })\n          .catch(function (err) {\n            console.log(err.response.data);\n          });\n\n      }else{ // en agregar\n       const index = this.DETALLES_VENTA.indexOf(item);\n       confirm(\"¿Está seguro de querer eliminar este registro?\") &&\n        this.DETALLES_VENTA.splice(index, 1);\n        this.stockSelected.splice(index, 1); // AQUI MERO MERITO\n      }\n      },\n\n     \n      limpiar_detallesOrden(){\n        this.DETALLES_VENTA = [];\n\n      },\n    limpiarOrden(){\n      let my = this;\n      my.ENV_COD = null;\n      my.PRO_COD = null;\n      my.AGR_COD = null;\n      //my.DET_VENT_COD = null;\n      my.DET_VENT_UNIDAD = 'SACO';\n      my.DET_VENT_PRECIO_VENT = null;\n      my.DET_VENT_DESCRIPCION = null;\n      my.DET_VENT_CANTIDAD = null;\n      my.DET_VENT_SUBTOTAL = null;\n      my.DET_VENT_ESTADO = null;\n\n   // this.DETALLES_VENTA = []; PROHIBIDO\n    this.vas_selected= { \"ENV_COD\":null, \"ENV_NOM\":null};\n    this.pro_selected= {\"PRO_COD\": null, \"PRO_DESCRIPCION\": null};\n\n   my.valid2= true;\n   my.error= false;\n   my.msg_error= \"\";\n   my.errores= [];\n\n    },\n    asignarNombrePro(){\n      this.PRO_COD = this.pro_selected.PRO_COD;\n      this.PRO_DESCRIPCION = this.pro_selected.PRO_DESCRIPCION;\n      this.ENV_COD = this.pro_selected.ENV_COD;\n      this.ENV_NOM = this.pro_selected.ENV_NOM;\n    //  this.DET_VENT_PRECIO_VENT = this.pro_selected.PRO_PREC_VENTA;\n      // aqui los meros buenos\n      this.DET_VENT_PRECIO_VENT = 12;//this.stockSelected[0].PRO_PREC_VENTA;\n\n\n    },\n    asignarNombreVas(){\n      this.ENV_COD = this.vas_selected.ENV_COD;\n      this.ENV_NOM = this.vas_selected.ENV_NOM;\n    },\n\n    editItem(item) {\n      let my = this;\n      my.action = \"Editar\";\n      my.campoEstado = true;\n      this.editedItem = Object.assign({}, item);\n\n      my.CAB_VENT_COD= my.editedItem.CAB_VENT_COD;\n      my.CLI_COD= my.editedItem.CLI_COD;\n      my.CAB_VENT_FECHA= my.editedItem.CAB_VENT_FECHA;\n      my.CAB_VENT_TOTAL= my.editedItem.CAB_VENT_TOTAL;\n      my.CAB_VENT_NOM= my.editedItem.CAB_VENT_NOM;\n      my.CAB_VENT_CANT_SACOS= my.editedItem.CAB_VENT_CANT_SACOS;\n      my.CAB_VENT_ESTADO= my.editedItem.CAB_VENT_ESTADO;\n      my.CAB_OPERADOR= my.editedItem.CAB_OPERADOR;\n      my.CAB_VENT_TIPO_VENT= my.editedItem.CAB_VENT_TIPO_VENT;\n      \n      my.listarRegistrosOrden(my.editedItem.CAB_VENT_COD);\n      console.log(this.editedItem);\n      my.dialog = true;\n    },\n     viewItem(item) {\n      let my = this;\n      my.action = \"Ver\";\n     // my.campoEstado = true;\n      this.editedItem = Object.assign({}, item);\n\n      my.CAB_VENT_COD= my.editedItem.CAB_VENT_COD;\n      my.CLI_COD= my.editedItem.CLI_COD;\n      my.CAB_VENT_FECHA= my.editedItem.CAB_VENT_FECHA;\n      my.CAB_VENT_TOTAL= my.editedItem.CAB_VENT_TOTAL;\n      my.CAB_VENT_NOM= my.editedItem.CAB_VENT_NOM;\n      my.CAB_VENT_CANT_SACOS= my.editedItem.CAB_VENT_CANT_SACOS;\n      my.CAB_VENT_ESTADO= my.editedItem.CAB_VENT_ESTADO;\n      my.CAB_OPERADOR= my.editedItem.CAB_OPERADOR;\n      my.CAB_VENT_TIPO_VENT= my.editedItem.CAB_VENT_TIPO_VENT;\n      \n    },\n// agregar con mensaj de confirmación\n    addMSJConfirmacion() {\n\n      this.$refs.form.validate();\n      if (this.$refs.form.validate(true)){\n       \n       if(this.DETALLES_VENTA===[] || this.DETALLES_VENTA==null || this.DETALLES_VENTA.length==0)\n          this.no_detalles=true;\n          else \n          this.no_detalles=false;\n      \n      this.confirmBox = {\n          addRegister: true,\n          item : null\n          \n        };\n\n      }\n    },\n\n    // Eliiminar registro\n    deleteCancelar() {\n      this.confirmBox = {\n        deleteRegister: false,\n        item: null\n      };\n    },\n    deleteMSJConfirmacion(item) {\n      this.confirmBox = {\n        deleteRegister: true,\n        item: Object.assign({}, item)\n      };\n       this.editedItem = Object.assign({}, item);\n    },\n    deleteItem(item) {\n      let my = this;\n      my.editedItem = Object.assign({}, item);\n     // confirm(\"¿Está seguro de querer eliminar este registro?\") &&\n        axios\n          .delete(my.DELETE_delete + my.editedItem.CAB_VENT_COD + \"/\", {})\n          .then((response) => {\n            console.log(response);\n            my.listar();\n            my.limpiar();\n            my.refrescarVentas(); // THIS\n          })\n          .catch(function (err) {\n            console.log(err.response.data);\n          });\n           this.deleteCancelar();\n    },\n\n    close() {\n      this.dialog = false;\n      \n          this.error = false;\n    },\n    closeList() {\n      this.dialogList = false;\n    },\n    closeOrden() {\n      this.dialogOrden = false;\n      \n          this.error = false;\n          this.limpiarOrden();\n    },\n\n    limpiar() {\n    let my = this;\n    //my.CLI_COD = null;\n    my.CAB_VENT_FECHA = new Date();\n    //my.CAB_VENT_COD = null;\n    //my.CAB_VENT_TOTAL = null;\n    my.CAB_VENT_NOM = null;\n    my.CAB_VENT_CANT_SACOS = 0;\n    my.CAB_VENT_ESTADO = 'ACTIVO';\n    my.CAB_OPERADOR = null;\n    my.CAB_VENT_TIPO_VENT= 'AL CONTADO';\n\n   my.valid= true;\n   my.error= false;\n   my.msg_error= \"\";\n   my.errores= [];\n    \n\n    },\n\n    save() {\n      this.$refs.form.validate();\n      if (this.$refs.form.validate(true)) {\n        this.errores = [];\n      let my = this;       \nif(my.action ===\"agregar\"){\n  my.fecha = \" \"+my.CAB_VENT_FECHA.getDate()+ \"/\" + (my.CAB_VENT_FECHA.getMonth() +1) +\"/\"+ my.CAB_VENT_FECHA.getFullYear()+\" \"+\n      my.CAB_VENT_FECHA.getHours() + \":\"+ my.CAB_VENT_FECHA.getMonth() + \":\"+ my.CAB_VENT_FECHA.getSeconds(); \n}\n      if (my.action === \"Editar\") {\n        axios\n          .put(my.PUT_edit + my.editedItem.CAB_VENT_COD + \"/\", {\n            //CAB_VENT_COD: my.editedItem.CAB_VENT_COD,\n            CLI_COD: my.CLI_COD,\n            CAB_VENT_FECHA: my.CAB_VENT_FECHA,\n            CAB_VENT_TOTAL: my.CAB_VENT_TOTAL,\n            CAB_VENT_NOM: my.CAB_VENT_NOM,\n            CAB_VENT_CANT_SACOS: my.CAB_VENT_CANT_SACOS,\n            //CAB_VENT_ESTADO: my.CAB_VENT_ESTADO,\n            CAB_OPERADOR: my.CAB_OPERADOR,\n            CAB_VENT_TIPO_VENT: my.CAB_VENT_TIPO_VENT\n          })\n          .then((response) => {\n            console.log(response); \n                  \n            my.close();\n            my.listar();\n            my.refrescarVentas(); // THIS\n             my.listarStock();\n            my.limpiar();\n          })\n          .catch(err => {\n            console.log(err.response.data);\n            if (err.response.status == 400) {\n                \n                console.log(err.response.data);\n                if (err.response.data.CLI_COD != null) {\n                  this.errores.push(\"Seleccione un agricultor\");\n                }\n                if (err.response.data.CAB_OPERADOR != null) {\n                  this.errores.push(\"Seleccione un molino\");\n                }\n                if (this.CAB_VENT_TOTAL == null) {\n                  this.errores.push(\"Esto debiera ser calculado internamente\");\n                }                \n                this.mostrarErrores();\n              }\n          })\n   \n\n\n      } else {\n        //cod para agregar\n        axios\n          .post(my.POST_add, {\n            CLI_COD: my.CLI_COD,\n            CAB_VENT_FECHA: my.CAB_VENT_FECHA,\n            CAB_OPERADOR: my.CAB_OPERADOR,\n            CAB_VENT_TIPO_VENT: my.CAB_VENT_TIPO_VENT, \n            DETALLES_VENTA: my.DETALLES_VENTA\n          })\n          .then(function (response) {\n            console.log(response.data);\n            my.deleteCancelar(); // THISSSS\n            my.close();\n            my.listar();\n             my.listarStock();\n            my.refrescarVentas(); // THIS\n            my.limpiar();\n          })\n          .catch(err => {\n            \n            console.log(err.response.data);\n           \n            if (err.response.status == 400) {\n                \n                console.log(err.response.data);\n                if (err.response.data.CLI_COD != null) {\n                  this.errores.push(\"Seleccione un cliente\");\n                }\n                if (err.response.data.CAB_OPERADOR != null) {\n                  this.errores.push(\"Seleccione un operador\");\n                }\n                if (this.CAB_VENT_TOTAL == null) {\n                  this.errores.push(\"Esto debiera ser calculado internamente\");\n                }                \n                this.mostrarErrores();\n              }\n          });\n      }\n       }\n    }, //fin método\n\n    // metodoS FORMATOS\n    getColor(VALOR) {\n      if (VALOR === \"CERRADO\") return \"red\";\n      else if (VALOR === \"PARADO\") return \"orange\";\n      else if (VALOR === \"ABIERTO\") return \"green\";\n      else if (VALOR) return \"green\";\n      else return \"red\";\n    },\n  },\n\n    props: {\n    source: String\n  }\n};\n</script>"]}]}